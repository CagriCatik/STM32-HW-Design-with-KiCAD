"use strict";(self.webpackChunkPCB_Design=self.webpackChunkPCB_Design||[]).push([[891],{5751:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"PCB_Layout/MCU-Decoupling_Capacitors_Crystal-Layout","title":"Initial Component Placement and Layout","description":"Effective PCB design begins with meticulous component placement and layout. This foundational step ensures optimal performance, manufacturability, and reliability of the final product. This documentation provides a comprehensive guide to importing component footprints from the schematic into the PCB layout editor in KiCad, executing an initial rough placement of components, and adhering to best practices for signal integrity and component grouping.","source":"@site/docs/03_PCB_Layout/02_MCU-Decoupling_Capacitors_Crystal-Layout.md","sourceDirName":"03_PCB_Layout","slug":"/PCB_Layout/MCU-Decoupling_Capacitors_Crystal-Layout","permalink":"/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/MCU-Decoupling_Capacitors_Crystal-Layout","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/03_PCB_Layout/02_MCU-Decoupling_Capacitors_Crystal-Layout.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"LavoutSidebar","previous":{"title":"PCB Layout and Routing Setup","permalink":"/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/KiCad_PCB-Setup"},"next":{"title":"Prioritizing and Placing Critical Circuitry","permalink":"/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/USB_SWD_Layout"}}');var t=i(4848),r=i(8453);const l={},o="Initial Component Placement and Layout",c={},a=[{value:"1. Importing Components into PCB Layout",id:"1-importing-components-into-pcb-layout",level:2},{value:"Step 1: Update PCB from Schematic",id:"step-1-update-pcb-from-schematic",level:3},{value:"Step 2: Initial Placement",id:"step-2-initial-placement",level:3},{value:"2. Setting Up Initial Component Placement",id:"2-setting-up-initial-component-placement",level:2},{value:"Step 1: Rough Layout of Components",id:"step-1-rough-layout-of-components",level:3},{value:"Step 2: Visualizing the Layout in 3D",id:"step-2-visualizing-the-layout-in-3d",level:3},{value:"Step 3: Component Prioritization",id:"step-3-component-prioritization",level:3},{value:"3. Placing Decoupling Capacitors",id:"3-placing-decoupling-capacitors",level:2},{value:"Step 1: Positioning Decoupling Capacitors",id:"step-1-positioning-decoupling-capacitors",level:3},{value:"Step 2: Proper Orientation",id:"step-2-proper-orientation",level:3},{value:"4. Placing the Crystal Oscillator",id:"4-placing-the-crystal-oscillator",level:2},{value:"Step 1: Positioning the Crystal",id:"step-1-positioning-the-crystal",level:3},{value:"Step 2: Load Capacitor Placement",id:"step-2-load-capacitor-placement",level:3},{value:"Step 3: Fine-Tuning Crystal Placement",id:"step-3-fine-tuning-crystal-placement",level:3},{value:"5. Moving and Grouping Power Supply Components",id:"5-moving-and-grouping-power-supply-components",level:2},{value:"Step 1: Positioning the Voltage Regulator",id:"step-1-positioning-the-voltage-regulator",level:3},{value:"Step 2: Positioning Decoupling and Bulk Capacitors",id:"step-2-positioning-decoupling-and-bulk-capacitors",level:3},{value:"Step 3: Fine-Tuning the Power Layout",id:"step-3-fine-tuning-the-power-layout",level:3},{value:"6. Finalizing the Rough Layout",id:"6-finalizing-the-rough-layout",level:2},{value:"Step 1: Check Component Spacing",id:"step-1-check-component-spacing",level:3},{value:"Step 2: Board Outline",id:"step-2-board-outline",level:3},{value:"7. Conclusion",id:"7-conclusion",level:2},{value:"Next Steps:",id:"next-steps",level:3}];function d(n){const e={h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"initial-component-placement-and-layout",children:"Initial Component Placement and Layout"})}),"\n",(0,t.jsx)(e.p,{children:"Effective PCB design begins with meticulous component placement and layout. This foundational step ensures optimal performance, manufacturability, and reliability of the final product. This documentation provides a comprehensive guide to importing component footprints from the schematic into the PCB layout editor in KiCad, executing an initial rough placement of components, and adhering to best practices for signal integrity and component grouping."}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"1-importing-components-into-pcb-layout",children:"1. Importing Components into PCB Layout"}),"\n",(0,t.jsx)(e.p,{children:"Transitioning from schematic design to PCB layout involves importing component footprints assigned during the schematic phase. This ensures that the physical representation of components aligns accurately with their logical connections."}),"\n",(0,t.jsx)(e.h3,{id:"step-1-update-pcb-from-schematic",children:"Step 1: Update PCB from Schematic"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Access the PCB Editor:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Launch KiCad and open your project."}),"\n",(0,t.jsx)(e.li,{children:"Navigate to the PCB Editor (Pcbnew)."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Initiate Schematic Update:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Click the ",(0,t.jsx)(e.strong,{children:'"Update PCB from Schematic"'})," button, identifiable by an icon depicting a wire connecting to a PCB."]}),"\n",(0,t.jsxs)(e.li,{children:["Alternatively, navigate through the menu: ",(0,t.jsx)(e.strong,{children:"Tools > Update PCB from Schematic"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Review Components:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"A dialog box will appear, listing all components and their associated footprints."}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Verify Inclusion:"})," Ensure that all intended components are listed. Missing components may indicate unresolved footprint assignments in the schematic."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Execute Update:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Click ",(0,t.jsx)(e.strong,{children:'"Update PCB"'})," to import the footprints."]}),"\n",(0,t.jsx)(e.li,{children:"Upon completion, close the dialog. The imported footprints will appear clustered in the PCB layout workspace."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Best Practices:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Footprint Verification:"})," Before updating, confirm that each schematic component has a correctly assigned footprint to prevent layout inconsistencies."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Library Management:"})," Maintain organized footprint libraries to facilitate easy retrieval and assignment during schematic design."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"step-2-initial-placement",children:"Step 2: Initial Placement"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Centralize Footprints:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Select the grouped footprints in the work area."}),"\n",(0,t.jsxs)(e.li,{children:["Press ",(0,t.jsx)(e.strong,{children:"M"})," to move the entire group to a more central and accessible location within the workspace."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Organize into Logical Groups:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Microcontroller Section:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Includes the microcontroller, decoupling capacitors, oscillators, and any related peripherals."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Power Regulation Section:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Encompasses voltage regulators, power filtering components, and related capacitors."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Connectors:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Such as USB ports, SWD headers, and other interface connectors."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Best Practices:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Functional Grouping:"})," Grouping related components minimizes trace lengths, reduces noise, and simplifies routing."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Thermal Considerations:"})," Place heat-generating components away from sensitive areas to prevent thermal interference."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Accessibility:"})," Ensure that connectors are easily accessible for external interfacing and testing."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"2-setting-up-initial-component-placement",children:"2. Setting Up Initial Component Placement"}),"\n",(0,t.jsx)(e.p,{children:"After importing components, establishing a rough layout provides a scaffold for detailed routing and ensures that the board's structure supports both electrical performance and manufacturability."}),"\n",(0,t.jsx)(e.h3,{id:"step-1-rough-layout-of-components",children:"Step 1: Rough Layout of Components"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Utilize a Larger Grid Size:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Set the grid size to a larger increment (e.g., ",(0,t.jsx)(e.strong,{children:"1mm"})," or ",(0,t.jsx)(e.strong,{children:"0.5mm"}),") for rapid placement."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Procedure:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Right-click on the grid in the PCB Editor and select the desired grid size."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Advantage:"})," Facilitates swift movement and alignment of components without getting bogged down by fine adjustments."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Group Related Components:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Microcontroller and Decoupling Capacitors:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Place decoupling capacitors within ",(0,t.jsx)(e.strong,{children:"2-3mm"})," of the microcontroller's power pins to ensure effective noise suppression."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Power Regulation:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Position voltage regulators near power input sources (e.g., VBUS) to streamline power distribution."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Connectors:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Align connectors on board edges to match enclosure cutouts and simplify cable management."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Best Practices:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Signal Flow Consideration:"})," Arrange components to reflect the logical signal flow, reducing the need for complex trace routing."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Symmetry and Balance:"})," Maintain a balanced layout to distribute thermal loads evenly and enhance the board's aesthetic appeal."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Future Expansion:"})," Allocate space for potential component additions or modifications."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"step-2-visualizing-the-layout-in-3d",children:"Step 2: Visualizing the Layout in 3D"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Open 3D Viewer:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Press ",(0,t.jsx)(e.strong,{children:"ALT + 3"})," or navigate to ",(0,t.jsx)(e.strong,{children:"View > 3D Viewer"})," within the PCB Editor."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Inspect Component Placement:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"3D Representation:"})," Provides a tangible view of component heights, orientations, and spatial relationships."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Identify Overlaps:"})," Detect any overlapping components or potential clearance issues."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Handle Missing Elements:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Board Outline Absence:"})," If the board outline isn't visible, proceed to place components first; the outline can be defined subsequently."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Best Practices:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Iterative Inspection:"})," Regularly switch between 2D and 3D views to ensure comprehensive layout validation."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Physical Constraints:"})," Consider enclosure dimensions and mounting requirements reflected in the 3D view."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"step-3-component-prioritization",children:"Step 3: Component Prioritization"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Identify Critical Components:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Decoupling Capacitors:"})," Essential for power stability and noise reduction."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Oscillators:"})," Crucial for timing and signal generation."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Microcontroller:"})," The central processing unit of the PCB."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Sequential Placement:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"First:"})," Place critical components to establish the primary functional areas."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Next:"})," Position connectors and power supplies to support the critical sections."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Last:"})," Arrange less critical components like bulk capacitors and indicator LEDs."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Best Practices:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Hierarchy:"})," Establish a component placement hierarchy to streamline the design process."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Interdependency Awareness:"})," Recognize dependencies between components to avoid placement conflicts."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"3-placing-decoupling-capacitors",children:"3. Placing Decoupling Capacitors"}),"\n",(0,t.jsx)(e.p,{children:"Decoupling capacitors are pivotal in stabilizing the power supply to the microcontroller, mitigating noise, and ensuring reliable operation."}),"\n",(0,t.jsx)(e.h3,{id:"step-1-positioning-decoupling-capacitors",children:"Step 1: Positioning Decoupling Capacitors"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Identify Decoupling Capacitors:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Locate capacitors (e.g., ",(0,t.jsx)(e.strong,{children:"C4"}),", ",(0,t.jsx)(e.strong,{children:"C5"}),") connected to the ",(0,t.jsx)(e.strong,{children:"3.3V"})," and ",(0,t.jsx)(e.strong,{children:"GND"})," pins of the microcontroller in the schematic."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Proximity to Power Pins:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["In the PCB Editor, select a decoupling capacitor and press ",(0,t.jsx)(e.strong,{children:"M"})," to move it."]}),"\n",(0,t.jsxs)(e.li,{children:["Position the capacitor within ",(0,t.jsx)(e.strong,{children:"2-3mm"})," of the corresponding power pin (",(0,t.jsx)(e.strong,{children:"VCC"})," or ",(0,t.jsx)(e.strong,{children:"GND"}),") on the microcontroller."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Rationale:"})," Minimizes trace length, reducing inductance and enhancing decoupling effectiveness."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Best Practices:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Multiple Capacitors:"})," Use a combination of bulk (e.g., 10\xb5F) and high-frequency (e.g., 0.1\xb5F) capacitors for comprehensive noise filtering."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Symmetrical Placement:"})," Distribute capacitors evenly around the microcontroller to balance power distribution."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"step-2-proper-orientation",children:"Step 2: Proper Orientation"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Power and Ground Alignment:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Ensure the ",(0,t.jsx)(e.strong,{children:"3.3V"})," side of the capacitor connects directly to the microcontroller\u2019s power pin."]}),"\n",(0,t.jsxs)(e.li,{children:["The ",(0,t.jsx)(e.strong,{children:"GND"})," side should connect to the ground plane with minimal trace length."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Silkscreen Adjustments:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Use the ",(0,t.jsx)(e.strong,{children:"Move (M)"})," tool to adjust the silkscreen layer, enhancing the visibility of reference designators."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Clarity:"})," Clear silkscreen markings aid in component identification during assembly and troubleshooting."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Best Practices:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Consistent Orientation:"})," Maintain a uniform orientation for capacitors to streamline placement and routing."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Avoiding Overlaps:"})," Ensure capacitors do not obstruct other components or critical traces."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"4-placing-the-crystal-oscillator",children:"4. Placing the Crystal Oscillator"}),"\n",(0,t.jsx)(e.p,{children:"The crystal oscillator is integral for providing the precise clock signals necessary for the microcontroller\u2019s operation. Proper placement is essential for maintaining signal integrity and minimizing noise."}),"\n",(0,t.jsx)(e.h3,{id:"step-1-positioning-the-crystal",children:"Step 1: Positioning the Crystal"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Locate Crystal and Load Capacitors:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Identify the crystal oscillator and its associated load capacitors in the schematic (e.g., ",(0,t.jsx)(e.strong,{children:"C1"}),", ",(0,t.jsx)(e.strong,{children:"C2"}),")."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Proximity to Oscillator Pins:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Place the crystal oscillator adjacent to the ",(0,t.jsx)(e.strong,{children:"OSC_IN"})," and ",(0,t.jsx)(e.strong,{children:"OSC_OUT"})," pins of the microcontroller."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Trace Length Minimization:"})," Keep traces between the crystal and microcontroller as short as possible to reduce parasitic capacitance and inductance."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Best Practices:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Isolation from Noise Sources:"})," Position the oscillator away from high-frequency or switching components to prevent electromagnetic interference (EMI)."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Thermal Stability:"})," Ensure the crystal is not near heat-generating components to maintain frequency stability."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"step-2-load-capacitor-placement",children:"Step 2: Load Capacitor Placement"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Aligning Load Capacitors:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Position load capacitors directly in line with the traces connecting the crystal to the microcontroller."}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Purpose:"})," Stabilizes the oscillation frequency and reduces signal noise."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Trace Optimization:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Ensure that the traces between the crystal, load capacitors, and microcontroller are short and direct."}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Impedance Control:"})," Maintain consistent trace widths and spacing to preserve signal integrity."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Best Practices:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Shielding:"})," Consider shielding the oscillator circuit if operating in high-noise environments."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Component Grouping:"})," Keep related oscillator components tightly grouped to simplify routing and enhance performance."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"step-3-fine-tuning-crystal-placement",children:"Step 3: Fine-Tuning Crystal Placement"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Component Rotation:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Use the ",(0,t.jsx)(e.strong,{children:"Rotate (R)"})," tool to align the crystal oscillator with the microcontroller\u2019s oscillator pins for optimal layout symmetry."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Distance Measurement:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Activate the ",(0,t.jsx)(e.strong,{children:"Measurement Tool"})," by pressing ",(0,t.jsx)(e.strong,{children:"Ctrl + Shift + M"}),"."]}),"\n",(0,t.jsx)(e.li,{children:"Verify that all critical components are appropriately spaced, adhering to design guidelines."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Space Allocation:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Reserve adequate space around the crystal and load capacitors to prevent interference with other components and facilitate routing."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Best Practices:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Symmetrical Layout:"})," A symmetrical placement aids in balanced signal distribution."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Mechanical Stability:"})," Ensure the crystal is securely placed to avoid mechanical stress that could affect oscillation."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"5-moving-and-grouping-power-supply-components",children:"5. Moving and Grouping Power Supply Components"}),"\n",(0,t.jsx)(e.p,{children:"The power supply section is crucial for delivering stable and clean power to all components. Proper placement and grouping enhance efficiency and reduce noise."}),"\n",(0,t.jsx)(e.h3,{id:"step-1-positioning-the-voltage-regulator",children:"Step 1: Positioning the Voltage Regulator"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Locate the Voltage Regulator:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Identify the ",(0,t.jsx)(e.strong,{children:"AMS1117-3.3V"})," voltage regulator in the schematic."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Proximity to Power Input:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Place the regulator near the ",(0,t.jsx)(e.strong,{children:"VBUS"})," input to minimize the distance between the power source and regulation point."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Heat Dissipation:"})," Ensure sufficient spacing around the regulator for heat dissipation, possibly incorporating thermal vias or heatsinks if necessary."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Routing Considerations:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Plan the path from the regulator\u2019s ",(0,t.jsx)(e.strong,{children:"3.3V output"})," to the microcontroller\u2019s power pins, aiming for direct and short traces."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Best Practices:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Thermal Management:"})," Incorporate thermal reliefs and adequate copper pours to manage heat generated by the regulator."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Component Orientation:"})," Align the regulator in a manner that facilitates easy routing and reduces trace crossings."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"step-2-positioning-decoupling-and-bulk-capacitors",children:"Step 2: Positioning Decoupling and Bulk Capacitors"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Proximity to Voltage Regulator:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Place ",(0,t.jsx)(e.strong,{children:"input and output capacitors"})," (e.g., ",(0,t.jsx)(e.strong,{children:"C6"}),", ",(0,t.jsx)(e.strong,{children:"C7"}),") close to the voltage regulator to ensure effective power filtering and stability."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Bulk Capacitors Placement:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Position bulk capacitors (e.g., ",(0,t.jsx)(e.strong,{children:"C8"}),", ",(0,t.jsx)(e.strong,{children:"C9"}),") slightly further from the microcontroller but still aligned with the power traces."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Purpose:"})," Bulk capacitors provide energy storage for transient loads and help maintain voltage stability."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Best Practices:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Layer Management:"})," Utilize dedicated power and ground planes to facilitate efficient power distribution and reduce noise."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Trace Widths:"})," Use appropriately wide traces for power lines to handle higher current loads without significant voltage drops."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"step-3-fine-tuning-the-power-layout",children:"Step 3: Fine-Tuning the Power Layout"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Component Ordering:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Arrange capacitors and filtering components in a logical sequence aligned with the power flow."}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Example:"})," Input capacitor \u2192 Voltage regulator \u2192 Output capacitor \u2192 Bulk capacitors."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Trace Alignment:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Align power traces with component placements to ensure minimal trace lengths and reduced inductance."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Spacing Verification:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Ensure adequate spacing between power supply components to prevent heat accumulation and allow for future modifications."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Best Practices:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Decoupling Strategy:"})," Implement a multi-tiered decoupling strategy combining bulk and high-frequency capacitors for comprehensive power stability."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"EMI Considerations:"})," Keep power traces away from sensitive signal lines to minimize electromagnetic interference."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"6-finalizing-the-rough-layout",children:"6. Finalizing the Rough Layout"}),"\n",(0,t.jsx)(e.p,{children:"With critical components placed, it's time to refine the layout by adjusting component spacing and preparing the board outline, setting the stage for detailed routing."}),"\n",(0,t.jsx)(e.h3,{id:"step-1-check-component-spacing",children:"Step 1: Check Component Spacing"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Adequate Clearance:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Verify that sufficient space exists between components to facilitate routing and prevent short circuits."}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Signal-Critical Components:"})," Pay special attention to components involved in high-speed or sensitive signals, ensuring they have ample spacing to reduce crosstalk."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Parallel Trace Planning:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"For differential pairs (e.g., USB data lines), ensure parallel routing with controlled spacing to maintain signal integrity."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"3D Inspection:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Reopen the ",(0,t.jsx)(e.strong,{children:"3D Viewer"})," by pressing ",(0,t.jsx)(e.strong,{children:"ALT + 3"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Visual Check:"})," Confirm that components are not overlapping and that there is enough vertical clearance for connectors and mounting hardware."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Best Practices:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Design Rules Check (DRC):"})," Regularly perform DRC to identify and rectify spacing violations."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Accessibility:"})," Ensure components that require frequent access, such as headers and connectors, are easily reachable."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"step-2-board-outline",children:"Step 2: Board Outline"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Define Board Dimensions:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Use the ",(0,t.jsx)(e.strong,{children:"Edge.Cuts"})," layer to draw the board outline, matching the intended enclosure dimensions."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Procedure:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Select the ",(0,t.jsx)(e.strong,{children:"Edge.Cuts"})," layer."]}),"\n",(0,t.jsxs)(e.li,{children:["Utilize the ",(0,t.jsx)(e.strong,{children:"Add Graphic Line or Polygon"})," tool to outline the board shape."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Add Mounting Holes:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Insert mounting holes at designated positions to secure the PCB within its enclosure."}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Procedure:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Place via footprints (e.g., ",(0,t.jsx)(e.strong,{children:"VIA"}),") or dedicated mounting hole components."]}),"\n",(0,t.jsx)(e.li,{children:"Ensure alignment with mechanical design specifications."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Best Practices:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Tolerance Consideration:"})," Allow for manufacturing tolerances in the board outline to ensure proper fit within enclosures."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Hole Placement:"})," Position mounting holes to distribute mechanical stress evenly and avoid interfering with signal traces."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"7-conclusion",children:"7. Conclusion"}),"\n",(0,t.jsx)(e.p,{children:"By meticulously following the steps outlined above, you have successfully completed the initial rough layout of your PCB in KiCad. This foundational arrangement encompasses the strategic placement of critical components, including the microcontroller, decoupling capacitors, crystal oscillator, and power supply elements. Adhering to best practices during this phase ensures a clean, efficient, and manufacturable PCB design."}),"\n",(0,t.jsx)(e.h3,{id:"next-steps",children:"Next Steps:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Layout Refinement:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Adjust component positions for optimal routing and signal integrity."}),"\n",(0,t.jsx)(e.li,{children:"Fine-tune spacing and orientation to accommodate additional components and routing paths."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Board Outline Finalization:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Complete the board outline and ensure compatibility with mechanical designs and enclosures."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"PCB Routing:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Begin connecting electrical nets with copper traces, adhering to design rules and signal integrity guidelines."}),"\n",(0,t.jsx)(e.li,{children:"Utilize layer management and routing strategies to handle complex connections and minimize interference."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Design Verification:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Perform comprehensive design rule checks (DRC) and electrical rule checks (ERC) to identify and resolve potential issues."}),"\n",(0,t.jsx)(e.li,{children:"Utilize simulation tools if necessary to validate signal integrity and power distribution."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"By progressing systematically through these phases, you will develop a robust and high-performance PCB design ready for fabrication and assembly."})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>l,x:()=>o});var s=i(6540);const t={},r=s.createContext(t);function l(n){const e=s.useContext(r);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:l(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);