<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-PCB_Layout/Power-Supply-Layout" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Finalizing Power Supply Layout and Preparing for PCB Routing | STM32 Hardware Design with KiCAD</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/Power-Supply-Layout"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Finalizing Power Supply Layout and Preparing for PCB Routing | STM32 Hardware Design with KiCAD"><meta data-rh="true" name="description" content="In the final stage of component placement, we will complete the layout of the power supply section, ensuring the proper positioning of the voltage regulator, capacitors, and LED indicators. Additionally, we will prepare the design for PCB routing by adjusting connector positions, reviewing the layout for neatness, and adding mounting holes. This documentation provides a comprehensive guide to achieving an optimized power supply layout and a well-prepared PCB design ready for routing using KiCad."><meta data-rh="true" property="og:description" content="In the final stage of component placement, we will complete the layout of the power supply section, ensuring the proper positioning of the voltage regulator, capacitors, and LED indicators. Additionally, we will prepare the design for PCB routing by adjusting connector positions, reviewing the layout for neatness, and adding mounting holes. This documentation provides a comprehensive guide to achieving an optimized power supply layout and a well-prepared PCB design ready for routing using KiCad."><link data-rh="true" rel="icon" href="/STM32-HW-Design-with-KiCAD/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/Power-Supply-Layout"><link data-rh="true" rel="alternate" href="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/Power-Supply-Layout" hreflang="en"><link data-rh="true" rel="alternate" href="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/Power-Supply-Layout" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/STM32-HW-Design-with-KiCAD/blog/rss.xml" title="STM32 Hardware Design with KiCAD RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/STM32-HW-Design-with-KiCAD/blog/atom.xml" title="STM32 Hardware Design with KiCAD Atom Feed">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-d6UvP8MjG/jrWTLxz4ph1bEXHVNyMYAx4GqeFPYYR5tWLm4XAoVRSaSejzE/sFs9" crossorigin="anonymous"><link rel="stylesheet" href="/STM32-HW-Design-with-KiCAD/assets/css/styles.a479dc71.css">
<script src="/STM32-HW-Design-with-KiCAD/assets/js/runtime~main.616171fb.js" defer="defer"></script>
<script src="/STM32-HW-Design-with-KiCAD/assets/js/main.2a63344e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/STM32-HW-Design-with-KiCAD/"><div class="navbar__logo"><img src="/STM32-HW-Design-with-KiCAD/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/STM32-HW-Design-with-KiCAD/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">STM32 Hardware Design with KiCAD</b></a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Introduction/">Introduction</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Schematic/STM32_uC_Decoupling">Schematics</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/KiCad_PCB-Setup">Layout</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/PCB_Routing/Decoupling-Capacitors-Cyrstal-Routing">Routing</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Manufacturing/BOM-Gerber-Drill">Manufacturing</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Automated_Design">Scripts</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Glossary/A">Glossary</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/KiCad_PCB-Setup">PCB Layout and Routing Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/MCU-Decoupling_Capacitors_Crystal-Layout">Initial Component Placement and Layout</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/USB_SWD_Layout">Prioritizing and Placing Critical Circuitry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/Changing-Footprints-Adding-3D-Models">Fixing 3D Models and Adjusting Footprints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/Switch-Connector-Placement">Finalizing the Rough Layout and Preparing for Power Circuitry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/Power-Supply-Layout">Finalizing Power Supply Layout and Preparing for PCB Routing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/Mounting-Holes-Board-Outline">Adding Mounting Holes, Defining Board Outline, and Preparing for Routing</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/STM32-HW-Design-with-KiCAD/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Finalizing Power Supply Layout and Preparing for PCB Routing</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Finalizing Power Supply Layout and Preparing for PCB Routing</h1></header>
<p>In the final stage of component placement, we will complete the layout of the <strong>power supply section</strong>, ensuring the proper positioning of the <strong>voltage regulator</strong>, <strong>capacitors</strong>, and <strong>LED indicators</strong>. Additionally, we will prepare the design for <strong>PCB routing</strong> by adjusting connector positions, reviewing the layout for neatness, and adding <strong>mounting holes</strong>. This documentation provides a comprehensive guide to achieving an optimized power supply layout and a well-prepared PCB design ready for routing using KiCad.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-laying-out-the-power-supply-section"><strong>1. Laying Out the Power Supply Section</strong><a href="#1-laying-out-the-power-supply-section" class="hash-link" aria-label="Direct link to 1-laying-out-the-power-supply-section" title="Direct link to 1-laying-out-the-power-supply-section">​</a></h2>
<p>The power supply is a critical part of the PCB that ensures stable voltage delivery to the entire circuit. Proper placement of components in the power section, such as the <strong>voltage regulator</strong>, <strong>input/output capacitors</strong>, and <strong>power LEDs</strong>, is essential for both functionality and routing efficiency.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-positioning-the-voltage-regulator"><strong>Step 1: Positioning the Voltage Regulator</strong><a href="#step-1-positioning-the-voltage-regulator" class="hash-link" aria-label="Direct link to step-1-positioning-the-voltage-regulator" title="Direct link to step-1-positioning-the-voltage-regulator">​</a></h3>
<p><strong>Objective:</strong> Ensure that the voltage regulator is optimally placed to facilitate efficient power distribution and thermal management.</p>
<ol>
<li>
<p><strong>Placement Near Power Input:</strong></p>
<ul>
<li><strong>Action:</strong> Move the voltage regulator (e.g., <strong>AMS1117-3.3V</strong>) close to the <strong>USB-C power input</strong> pin (pin 1).</li>
<li><strong>Rationale:</strong> Positioning the regulator near the power input minimizes the trace length for incoming power, reducing potential voltage drops and noise.</li>
<li><strong>Practical Tip:</strong> Use the <strong>Rotate (R)</strong> function in KiCad to align the input pin of the regulator with the VBUS from the USB connector. This alignment simplifies routing and enhances signal integrity.</li>
</ul>
</li>
<li>
<p><strong>Thermal Considerations:</strong></p>
<ul>
<li><strong>Action:</strong> Ensure adequate spacing around the voltage regulator for heat dissipation.</li>
<li><strong>Rationale:</strong> Voltage regulators can generate significant heat, especially under high current loads. Sufficient spacing prevents thermal buildup, which can lead to component failure or reduced performance.</li>
<li><strong>Best Practice:</strong> Incorporate thermal reliefs or heatsinks if the regulator is expected to handle substantial current. Additionally, consider using thermal vias to connect the regulator&#x27;s ground pin to internal ground planes for better heat management.</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-placing-the-input-and-output-capacitors"><strong>Step 2: Placing the Input and Output Capacitors</strong><a href="#step-2-placing-the-input-and-output-capacitors" class="hash-link" aria-label="Direct link to step-2-placing-the-input-and-output-capacitors" title="Direct link to step-2-placing-the-input-and-output-capacitors">​</a></h3>
<p><strong>Objective:</strong> Stabilize voltage levels and filter out noise to ensure smooth power delivery.</p>
<ol>
<li>
<p><strong>Input Capacitor Placement:</strong></p>
<ul>
<li><strong>Action:</strong> Place the input capacitor (e.g., <strong>C10</strong>) as close as possible to the <strong>input pin</strong> of the voltage regulator.</li>
<li><strong>Rationale:</strong> Proximity minimizes the inductance and resistance in the power path, enhancing the capacitor&#x27;s effectiveness in smoothing voltage fluctuations from the USB power source.</li>
<li><strong>Connection Tip:</strong> Ensure the <strong>ground pin</strong> of the capacitor is near the regulator&#x27;s ground pin to reduce trace length and minimize ground loop inductance.</li>
</ul>
</li>
<li>
<p><strong>Output Capacitor Placement:</strong></p>
<ul>
<li><strong>Action:</strong> Position the output capacitor (e.g., <strong>C11</strong>) near the <strong>output pin</strong> of the voltage regulator.</li>
<li><strong>Rationale:</strong> This placement stabilizes the 3.3V output, ensuring consistent power delivery to sensitive components like the microcontroller.</li>
<li><strong>Routing Strategy:</strong> Align the output capacitor inline with the regulator&#x27;s output pin to facilitate straightforward routing of the 3.3V trace to downstream components.</li>
</ul>
</li>
</ol>
<p><strong>Best Practices:</strong></p>
<ul>
<li><strong>Capacitor Selection:</strong> Use capacitors with appropriate ESR (Equivalent Series Resistance) as recommended in the voltage regulator&#x27;s datasheet.</li>
<li><strong>Decoupling:</strong> Consider adding additional decoupling capacitors near high-speed or noise-sensitive components to further enhance power stability.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-adding-the-power-on-led"><strong>Step 3: Adding the Power-On LED</strong><a href="#step-3-adding-the-power-on-led" class="hash-link" aria-label="Direct link to step-3-adding-the-power-on-led" title="Direct link to step-3-adding-the-power-on-led">​</a></h3>
<p><strong>Objective:</strong> Provide visual indication of power status, aiding in debugging and user interface.</p>
<ol>
<li>
<p><strong>LED Placement:</strong></p>
<ul>
<li><strong>Action:</strong> Place the power-on LED (e.g., <strong>D1</strong>) near the <strong>output of the voltage regulator</strong> but away from sensitive components.</li>
<li><strong>Rationale:</strong> While the LED&#x27;s placement is not critical, positioning it near the voltage regulator ensures it accurately reflects the power status. Keeping it away from sensitive components prevents potential interference.</li>
<li><strong>Visibility Consideration:</strong> Position the LED where it is easily visible on the final PCB, facilitating quick power status checks during testing and use.</li>
</ul>
</li>
<li>
<p><strong>Current-Limiting Resistor Placement:</strong></p>
<ul>
<li><strong>Action:</strong> Position the current-limiting resistor (e.g., <strong>R6</strong>) inline with the LED&#x27;s anode and the 3.3V output.</li>
<li><strong>Rationale:</strong> The resistor controls the current through the LED, preventing excessive current that could damage the LED or affect the power supply stability.</li>
<li><strong>Connection Tip:</strong> Ensure the resistor is placed close to the LED to minimize trace length and maintain consistent current regulation.</li>
</ul>
</li>
</ol>
<p><strong>Practical Example:</strong></p>
<ul>
<li>
<p><strong>Resistor Calculation:</strong> For a typical red LED with a forward voltage of 2V and desired current of 10mA, the resistor value can be calculated using Ohm&#x27;s Law:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>R</mi><mo>=</mo><mfrac><mrow><msub><mi>V</mi><mrow><mi>s</mi><mi>o</mi><mi>u</mi><mi>r</mi><mi>c</mi><mi>e</mi></mrow></msub><mo>−</mo><msub><mi>V</mi><mrow><mi>L</mi><mi>E</mi><mi>D</mi></mrow></msub></mrow><mi>I</mi></mfrac><mo>=</mo><mfrac><mrow><mn>3.3</mn><mi>V</mi><mo>−</mo><mn>2</mn><mi>V</mi></mrow><mrow><mn>0.01</mn><mi>A</mi></mrow></mfrac><mo>=</mo><mn>130</mn><mi mathvariant="normal">Ω</mi></mrow><annotation encoding="application/x-tex">R = \frac{V_{source} - V_{LED}}{I} = \frac{3.3V - 2V}{0.01A} = 130\Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em">I</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">so</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">rce</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mord mathnormal mtight" style="margin-right:0.05764em">E</span><span class="mord mathnormal mtight" style="margin-right:0.02778em">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0.01</span><span class="mord mathnormal">A</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">3.3</span><span class="mord mathnormal" style="margin-right:0.22222em">V</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.22222em">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">130Ω</span></span></span></span></span>
<p>Choose the nearest standard resistor value, such as <strong>150Ω</strong>, to ensure safe operation.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-adjusting-for-layout-compactness"><strong>Step 4: Adjusting for Layout Compactness</strong><a href="#step-4-adjusting-for-layout-compactness" class="hash-link" aria-label="Direct link to step-4-adjusting-for-layout-compactness" title="Direct link to step-4-adjusting-for-layout-compactness">​</a></h3>
<p><strong>Objective:</strong> Optimize the power supply section for space efficiency and ease of routing.</p>
<ol>
<li>
<p><strong>Compact Arrangement:</strong></p>
<ul>
<li><strong>Action:</strong> Review the layout to ensure the power supply section is compact, with short traces between the voltage regulator and capacitors.</li>
<li><strong>Rationale:</strong> A compact layout reduces trace length, minimizing inductance and resistance, which enhances power stability and reduces electromagnetic interference (EMI).</li>
<li><strong>Grouping Strategy:</strong> Cluster related components together—voltage regulator, input/output capacitors, and power LED—to streamline routing and enhance signal integrity.</li>
</ul>
</li>
<li>
<p><strong>Trace Management:</strong></p>
<ul>
<li><strong>Action:</strong> Adjust component placement to avoid overlapping traces and ensure clear grounding paths.</li>
<li><strong>Rationale:</strong> Overlapping traces can lead to short circuits and complicate the routing process. Clear grounding paths enhance power distribution and reduce noise.</li>
<li><strong>Best Practice:</strong> Utilize ground planes where possible to provide a low-impedance path for ground connections, improving overall power integrity.</li>
</ul>
</li>
</ol>
<p><strong>Practical Tip:</strong></p>
<ul>
<li><strong>Component Alignment:</strong> Align components along symmetrical axes to create a visually organized layout, which simplifies troubleshooting and future modifications.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-handling-remaining-passive-components"><strong>2. Handling Remaining Passive Components</strong><a href="#2-handling-remaining-passive-components" class="hash-link" aria-label="Direct link to 2-handling-remaining-passive-components" title="Direct link to 2-handling-remaining-passive-components">​</a></h2>
<p>With the power supply section largely complete, the final passive component to address is the <strong>bulk decoupling capacitor</strong> for the microcontroller. This capacitor plays a vital role in maintaining power stability across the entire circuit.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-positioning-the-bulk-decoupling-capacitor"><strong>Step 1: Positioning the Bulk Decoupling Capacitor</strong><a href="#step-1-positioning-the-bulk-decoupling-capacitor" class="hash-link" aria-label="Direct link to step-1-positioning-the-bulk-decoupling-capacitor" title="Direct link to step-1-positioning-the-bulk-decoupling-capacitor">​</a></h3>
<p><strong>Objective:</strong> Ensure reliable power delivery to the microcontroller by minimizing voltage fluctuations and noise.</p>
<ol>
<li>
<p><strong>Bulk Capacitor Placement:</strong></p>
<ul>
<li><strong>Action:</strong> Place the bulk decoupling capacitor (e.g., <strong>C12</strong>) near the power traces leading to the microcontroller.</li>
<li><strong>Rationale:</strong> Proximity to the microcontroller minimizes the inductance and resistance in the power path, enhancing the capacitor&#x27;s effectiveness in smoothing out power supply variations.</li>
<li><strong>Placement Strategy:</strong> While the exact placement is flexible, aim to position the capacitor within a short distance from the microcontroller&#x27;s 3.3V power input to maximize its impact.</li>
</ul>
</li>
<li>
<p><strong>Ground Connection:</strong></p>
<ul>
<li><strong>Action:</strong> Ensure the <strong>ground pin</strong> of the decoupling capacitor has a short, direct connection to the ground plane.</li>
<li><strong>Rationale:</strong> A short ground connection reduces ground loop inductance and enhances the capacitor&#x27;s ability to filter out noise, contributing to overall circuit stability.</li>
<li><strong>Best Practice:</strong> Use thermal vias or multiple ground vias if necessary to provide a low-impedance path between the capacitor&#x27;s ground pin and the ground plane.</li>
</ul>
</li>
</ol>
<p><strong>Best Practices:</strong></p>
<ul>
<li><strong>Capacitor Value Selection:</strong> Choose a capacitor value that aligns with the microcontroller&#x27;s power requirements and noise sensitivity. Common values range from <strong>10µF to 100µF</strong>.</li>
<li><strong>Multiple Decoupling Capacitors:</strong> Consider using a combination of bulk capacitors and smaller ceramic capacitors (e.g., <strong>0.1µF</strong>) to address a wider range of frequency noise.</li>
</ul>
<p><strong>Practical Example:</strong></p>
<ul>
<li><strong>Placement Illustration:</strong> In KiCad&#x27;s layout editor, position <strong>C12</strong> adjacent to the microcontroller&#x27;s power input pin, ensuring minimal trace length between the capacitor and the pin. Utilize the design grid to maintain consistent spacing and alignment.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-inspecting-the-layout-and-preparing-for-routing"><strong>3. Inspecting the Layout and Preparing for Routing</strong><a href="#3-inspecting-the-layout-and-preparing-for-routing" class="hash-link" aria-label="Direct link to 3-inspecting-the-layout-and-preparing-for-routing" title="Direct link to 3-inspecting-the-layout-and-preparing-for-routing">​</a></h2>
<p>With all components placed, it&#x27;s crucial to review the entire layout to ensure readiness for the PCB routing phase. This involves verifying component placement, alignment, and preparing clear paths for trace routing.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-inspect-the-layout-in-the-3d-viewer"><strong>Step 1: Inspect the Layout in the 3D Viewer</strong><a href="#step-1-inspect-the-layout-in-the-3d-viewer" class="hash-link" aria-label="Direct link to step-1-inspect-the-layout-in-the-3d-viewer" title="Direct link to step-1-inspect-the-layout-in-the-3d-viewer">​</a></h3>
<p><strong>Objective:</strong> Visualize the PCB layout in three dimensions to identify potential placement issues and ensure component alignment.</p>
<ol>
<li>
<p><strong>Accessing the 3D Viewer:</strong></p>
<ul>
<li><strong>Action:</strong> Press <strong>ALT + 3</strong> or navigate to <strong>View &gt; 3D Viewer</strong> in KiCad.</li>
<li><strong>Rationale:</strong> The 3D Viewer provides a realistic representation of the PCB, helping to identify physical placement issues that may not be evident in the 2D layout.</li>
</ul>
</li>
<li>
<p><strong>Component Verification:</strong></p>
<ul>
<li><strong>Action:</strong> Ensure that all components, especially connectors (e.g., <strong>USB-C</strong>) and switches, are correctly positioned.</li>
<li><strong>Practical Tip:</strong> For connectors like USB-C, verify that they extend slightly beyond the PCB edge to facilitate easy access when housed in an enclosure.</li>
</ul>
</li>
<li>
<p><strong>Silkscreen Inspection:</strong></p>
<ul>
<li><strong>Action:</strong> Check that <strong>silkscreen labels</strong> do not overlap with pads, traces, or other components.</li>
<li><strong>Rationale:</strong> Overlapping silkscreen can interfere with soldering and assembly, leading to potential manufacturing issues.</li>
<li><strong>Best Practice:</strong> Adjust silkscreen layers to provide clear labeling without encroaching on component footprints or routing paths.</li>
</ul>
</li>
</ol>
<p><strong>Best Practices:</strong></p>
<ul>
<li><strong>Clearances:</strong> Verify that component clearances meet manufacturing tolerances to prevent shorts and facilitate reliable assembly.</li>
<li><strong>Height Considerations:</strong> Ensure that taller components do not interfere with mounting holes or enclosure fittings.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-fine-tune-the-placement-of-connectors-and-components"><strong>Step 2: Fine-Tune the Placement of Connectors and Components</strong><a href="#step-2-fine-tune-the-placement-of-connectors-and-components" class="hash-link" aria-label="Direct link to step-2-fine-tune-the-placement-of-connectors-and-components" title="Direct link to step-2-fine-tune-the-placement-of-connectors-and-components">​</a></h3>
<p><strong>Objective:</strong> Achieve a neat and organized layout that simplifies routing and enhances PCB functionality.</p>
<ol>
<li>
<p><strong>Component Alignment:</strong></p>
<ul>
<li><strong>Action:</strong> Adjust the placement of components to ensure neat alignment and prevent crossing traces.</li>
<li><strong>Rationale:</strong> A well-aligned layout reduces the complexity of routing and minimizes potential interference between traces.</li>
<li><strong>Practical Tip:</strong> Utilize KiCad&#x27;s alignment tools to align connectors and critical components along symmetrical axes or predefined grid lines.</li>
</ul>
</li>
<li>
<p><strong>Connector Positioning:</strong></p>
<ul>
<li><strong>Action:</strong> Move connectors closer to the board edges if necessary to allow for easy external connections (e.g., <strong>USB-C, UART, SWD</strong>).</li>
<li><strong>Rationale:</strong> Placing connectors near edges facilitates accessibility and ensures they are not obstructed when housed in enclosures.</li>
<li><strong>Best Practice:</strong> Leave sufficient edge clearance to accommodate the physical dimensions of connectors and prevent mechanical interference.</li>
</ul>
</li>
<li>
<p><strong>Power and Ground Alignment:</strong></p>
<ul>
<li><strong>Action:</strong> Ensure that <strong>power and ground connections</strong> are properly aligned with the main power routes.</li>
<li><strong>Rationale:</strong> Proper alignment facilitates efficient power distribution and minimizes the risk of ground loops or power supply issues.</li>
<li><strong>Routing Strategy:</strong> Plan power and ground traces to follow straight paths where possible, reducing trace length and inductance.</li>
</ul>
</li>
</ol>
<p><strong>Best Practices:</strong></p>
<ul>
<li><strong>Component Spacing:</strong> Maintain consistent spacing between components to enhance readability and simplify routing.</li>
<li><strong>Grouping:</strong> Group related components together based on functionality to streamline trace routing and improve signal integrity.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-prepare-for-routing"><strong>Step 3: Prepare for Routing</strong><a href="#step-3-prepare-for-routing" class="hash-link" aria-label="Direct link to step-3-prepare-for-routing" title="Direct link to step-3-prepare-for-routing">​</a></h3>
<p><strong>Objective:</strong> Lay the groundwork for efficient and effective PCB routing by planning critical trace paths and ensuring accessibility.</p>
<ol>
<li>
<p><strong>Critical Trace Planning:</strong></p>
<ul>
<li><strong>Action:</strong> Identify and plan for <strong>critical traces</strong>, such as <strong>power (3.3V)</strong> and <strong>ground</strong>, ensuring they can be routed without crossing other traces.</li>
<li><strong>Rationale:</strong> Critical traces often carry higher currents or are essential for signal integrity. Proper planning prevents routing conflicts and ensures reliable connections.</li>
<li><strong>Best Practice:</strong> Utilize wider trace widths for power and ground to handle higher currents and minimize voltage drops.</li>
</ul>
</li>
<li>
<p><strong>Accessibility of Power Traces:</strong></p>
<ul>
<li><strong>Action:</strong> Ensure that <strong>3.3V and GND traces</strong> are easily accessible from the voltage regulator to all necessary components, especially the microcontroller.</li>
<li><strong>Rationale:</strong> Accessible power traces simplify routing and enhance power distribution efficiency across the PCB.</li>
<li><strong>Routing Tip:</strong> Use KiCad&#x27;s design rules to define appropriate trace widths and clearances for power traces, ensuring they meet current handling requirements.</li>
</ul>
</li>
<li>
<p><strong>Trace Width Optimization:</strong></p>
<ul>
<li><strong>Action:</strong> Use <strong>wide traces</strong> for power and ground lines to handle the required current and reduce resistance.</li>
<li><strong>Rationale:</strong> Wider traces lower the overall impedance, minimizing voltage drops and ensuring stable power delivery.</li>
<li><strong>Calculation Example:</strong> For a 3.3V power trace carrying up to 1A, a trace width of at least <strong>1mm</strong> is recommended, depending on the PCB&#x27;s copper thickness and temperature rise constraints.</li>
</ul>
</li>
</ol>
<p><strong>Best Practices:</strong></p>
<ul>
<li><strong>Layer Utilization:</strong> Consider using internal power and ground planes to provide low-impedance paths and reduce the need for multiple wide traces on signal layers.</li>
<li><strong>Via Planning:</strong> Plan the placement of vias to connect power traces across different layers efficiently, enhancing current distribution and thermal management.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-adding-mounting-holes-and-board-outline"><strong>4. Adding Mounting Holes and Board Outline</strong><a href="#4-adding-mounting-holes-and-board-outline" class="hash-link" aria-label="Direct link to 4-adding-mounting-holes-and-board-outline" title="Direct link to 4-adding-mounting-holes-and-board-outline">​</a></h2>
<p>Before initiating the routing process, it&#x27;s essential to add <strong>mounting holes</strong> and finalize the <strong>board outline</strong> to ensure the PCB can be securely mounted within its intended enclosure or assembly.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-adding-mounting-holes"><strong>Step 1: Adding Mounting Holes</strong><a href="#step-1-adding-mounting-holes" class="hash-link" aria-label="Direct link to step-1-adding-mounting-holes" title="Direct link to step-1-adding-mounting-holes">​</a></h3>
<p><strong>Objective:</strong> Provide physical mounting points for securing the PCB within an enclosure or to a chassis.</p>
<ol>
<li>
<p><strong>Mounting Hole Placement:</strong></p>
<ul>
<li><strong>Action:</strong> Use the <strong>Add a Mounting Hole</strong> tool from the KiCad toolbar to place mounting holes in each corner of the PCB.</li>
<li><strong>Rationale:</strong> Placing mounting holes at the corners ensures balanced support and stability when the PCB is mounted.</li>
<li><strong>Practical Tip:</strong> Standard mounting hole sizes are typically around <strong>3.2mm</strong> for screws, but verify the specific requirements based on the enclosure or mounting hardware being used.</li>
</ul>
</li>
<li>
<p><strong>Spacing and Clearance:</strong></p>
<ul>
<li><strong>Action:</strong> Ensure that the mounting holes are spaced evenly and positioned <strong>away from critical components</strong> to avoid interference.</li>
<li><strong>Rationale:</strong> Even spacing distributes mechanical stress evenly across the PCB, preventing warping or damage. Avoiding critical components ensures that mounting does not compromise circuit integrity.</li>
<li><strong>Best Practice:</strong> Follow the four-hole mounting standard by placing mounting holes in a rectangular pattern, with dimensions suited to the enclosure&#x27;s mounting points.</li>
</ul>
</li>
</ol>
<p><strong>Best Practices:</strong></p>
<ul>
<li><strong>Hole Countersinking:</strong> Consider countersinking mounting holes to accommodate screw heads, ensuring a flush finish and preventing screw interference with components.</li>
<li><strong>Silk Screen Marking:</strong> Clearly mark mounting hole positions on the silkscreen layer to aid in assembly and verification during manufacturing.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-drawing-the-board-outline"><strong>Step 2: Drawing the Board Outline</strong><a href="#step-2-drawing-the-board-outline" class="hash-link" aria-label="Direct link to step-2-drawing-the-board-outline" title="Direct link to step-2-drawing-the-board-outline">​</a></h3>
<p><strong>Objective:</strong> Define the physical boundaries of the PCB to ensure it fits within its intended space and accommodates all components.</p>
<ol>
<li>
<p><strong>Selecting the Edge.Cuts Layer:</strong></p>
<ul>
<li><strong>Action:</strong> Switch to the <strong>Edge.Cuts layer</strong>, the designated layer for defining the PCB’s outer boundary.</li>
<li><strong>Rationale:</strong> The Edge.Cuts layer dictates the final shape and size of the PCB, guiding the manufacturer during the fabrication process.</li>
</ul>
</li>
<li>
<p><strong>Creating the Board Outline:</strong></p>
<ul>
<li><strong>Action:</strong> Use the <strong>Draw Line tool</strong> to create the <strong>board outline</strong>, ensuring it is large enough to accommodate all components without excess space.</li>
<li><strong>Rationale:</strong> An appropriately sized board outline ensures efficient use of material, simplifies mounting within enclosures, and maintains aesthetic appeal.</li>
<li><strong>Design Considerations:</strong>
<ul>
<li><strong>Component Clearance:</strong> Ensure the outline provides sufficient clearance around components, especially around connectors like <strong>USB-C</strong>, to prevent mechanical interference.</li>
<li><strong>Edge Accessibility:</strong> Position edge-mounted components (e.g., USB-C) so that they extend slightly beyond the board edge for easy access and connection.</li>
</ul>
</li>
</ul>
</li>
</ol>
<p><strong>Practical Example:</strong></p>
<ul>
<li><strong>Rounded Corners:</strong> To reduce stress concentrations and improve the PCB&#x27;s mechanical robustness, consider incorporating rounded corners in the board outline.</li>
<li><strong>Cutouts:</strong> If necessary, include cutouts in the board outline for connectors or other protruding components, ensuring they do not interfere with the overall board integrity.</li>
</ul>
<p><strong>Best Practices:</strong></p>
<ul>
<li><strong>Dimension Verification:</strong> Double-check the board outline dimensions against the enclosure specifications to ensure a proper fit.</li>
<li><strong>Mechanical Constraints:</strong> Account for any mechanical constraints, such as standoffs or mounting brackets, when designing the board outline.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-final-review-before-routing"><strong>5. Final Review Before Routing</strong><a href="#5-final-review-before-routing" class="hash-link" aria-label="Direct link to 5-final-review-before-routing" title="Direct link to 5-final-review-before-routing">​</a></h2>
<p>Before proceeding to the PCB routing phase, a thorough review of the layout ensures that all components are correctly placed and that the design is optimized for efficient routing and assembly.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-conduct-a-final-layout-review"><strong>Step 1: Conduct a Final Layout Review</strong><a href="#step-1-conduct-a-final-layout-review" class="hash-link" aria-label="Direct link to step-1-conduct-a-final-layout-review" title="Direct link to step-1-conduct-a-final-layout-review">​</a></h3>
<p><strong>Objective:</strong> Identify and rectify any remaining issues in the layout to ensure a flawless transition to the routing phase.</p>
<ol>
<li>
<p><strong>Connection Verification:</strong></p>
<ul>
<li><strong>Action:</strong> Check for any <strong>missing connections</strong> or misplaced components.</li>
<li><strong>Rationale:</strong> Ensuring all components are correctly placed and connected prevents functional issues and reduces the risk of design errors.</li>
<li><strong>Tool Utilization:</strong> Use KiCad’s <strong>Electrical Rules Checker (ERC)</strong> and <strong>Design Rules Checker (DRC)</strong> to identify and address connectivity and layout issues.</li>
</ul>
</li>
<li>
<p><strong>3D Viewer Sanity Check:</strong></p>
<ul>
<li><strong>Action:</strong> Utilize the <strong>3D Viewer</strong> to perform a final visual inspection, ensuring that all components fit correctly and are positioned for easy routing and assembly.</li>
<li><strong>Rationale:</strong> Visual checks can reveal placement issues, such as overlapping components or misaligned connectors, that may not be apparent in the 2D layout.</li>
<li><strong>Practical Tip:</strong> Rotate the 3D view to inspect components from different angles, ensuring that no components interfere with each other and that there is adequate clearance for connectors and mounting features.</li>
</ul>
</li>
</ol>
<p><strong>Best Practices:</strong></p>
<ul>
<li><strong>Annotation Consistency:</strong> Ensure that all components are correctly annotated and labeled to facilitate assembly and troubleshooting.</li>
<li><strong>Design Rule Compliance:</strong> Verify that the layout adheres to all design rules, including trace widths, clearances, and component placements, to ensure manufacturability.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-prepare-for-routing"><strong>Step 2: Prepare for Routing</strong><a href="#step-2-prepare-for-routing" class="hash-link" aria-label="Direct link to step-2-prepare-for-routing" title="Direct link to step-2-prepare-for-routing">​</a></h3>
<p><strong>Objective:</strong> Transition seamlessly to the PCB routing phase by ensuring that the layout is fully optimized and ready for trace connections.</p>
<ol>
<li>
<p><strong>Final Layout Optimization:</strong></p>
<ul>
<li><strong>Action:</strong> Confirm that all components are optimally placed and that the power supply and critical traces are clearly planned.</li>
<li><strong>Rationale:</strong> An optimized layout simplifies the routing process, reducing the time required for trace connections and enhancing overall PCB performance.</li>
<li><strong>Best Practice:</strong> Utilize grid snapping and alignment tools in KiCad to maintain consistent component spacing and alignment, facilitating straightforward routing paths.</li>
</ul>
</li>
<li>
<p><strong>Route Accessibility:</strong></p>
<ul>
<li><strong>Action:</strong> Ensure that all <strong>3.3V and GND traces</strong> are accessible from the voltage regulator to necessary components, particularly the microcontroller.</li>
<li><strong>Rationale:</strong> Accessible power traces prevent routing bottlenecks and ensure efficient power distribution across the PCB.</li>
<li><strong>Routing Strategy:</strong> Plan major power traces first, followed by signal traces, to establish a solid foundation for the routing process.</li>
</ul>
</li>
</ol>
<p><strong>Best Practices:</strong></p>
<ul>
<li><strong>Layer Planning:</strong> Decide on the number of signal and power layers required based on the complexity of the PCB, ensuring adequate routing space for all connections.</li>
<li><strong>Via Management:</strong> Plan the placement of vias to transition traces between layers efficiently, reducing trace length and maintaining signal integrity.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion"><strong>Conclusion</strong><a href="#conclusion" class="hash-link" aria-label="Direct link to conclusion" title="Direct link to conclusion">​</a></h2>
<p>By meticulously completing the layout of the <strong>power supply section</strong> and refining the positioning of passive components, connectors, and decoupling capacitors, the PCB design is now primed for the next critical phase: <strong>PCB routing</strong>. This process ensures that components are optimally placed for power distribution and signal integrity, laying a solid foundation for effective trace routing.</p>
<p>The design is now well-organized and compact, which facilitates a smoother and more efficient routing stage. With mounting holes and the board outline added, the PCB is nearly ready for the final stages of design. The next step involves <strong>PCB routing</strong>, where all components will be interconnected using copper traces, finalizing the electrical connections that make the PCB functional.</p>
<p><strong>Best Practices Moving Forward:</strong></p>
<ul>
<li><strong>Iterative Review:</strong> Continuously review and adjust the layout as routing progresses to accommodate any unforeseen challenges.</li>
<li><strong>Documentation:</strong> Maintain comprehensive documentation of the design process, including component placement decisions and routing strategies, to aid in future revisions and troubleshooting.</li>
<li><strong>Testing and Validation:</strong> Plan for thorough testing and validation of the routed PCB to ensure functionality, reliability, and adherence to design specifications.</li>
</ul>
<p>By following this structured and detailed approach, you ensure a high-quality PCB design that meets both functional and manufacturing standards, leveraging KiCad&#x27;s robust design capabilities to their fullest potential.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/03_PCB_Layout/06_Power-Supply-Layout.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/Switch-Connector-Placement"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Finalizing the Rough Layout and Preparing for Power Circuitry</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/Mounting-Holes-Board-Outline"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Adding Mounting Holes, Defining Board Outline, and Preparing for Routing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-laying-out-the-power-supply-section" class="table-of-contents__link toc-highlight"><strong>1. Laying Out the Power Supply Section</strong></a><ul><li><a href="#step-1-positioning-the-voltage-regulator" class="table-of-contents__link toc-highlight"><strong>Step 1: Positioning the Voltage Regulator</strong></a></li><li><a href="#step-2-placing-the-input-and-output-capacitors" class="table-of-contents__link toc-highlight"><strong>Step 2: Placing the Input and Output Capacitors</strong></a></li><li><a href="#step-3-adding-the-power-on-led" class="table-of-contents__link toc-highlight"><strong>Step 3: Adding the Power-On LED</strong></a></li><li><a href="#step-4-adjusting-for-layout-compactness" class="table-of-contents__link toc-highlight"><strong>Step 4: Adjusting for Layout Compactness</strong></a></li></ul></li><li><a href="#2-handling-remaining-passive-components" class="table-of-contents__link toc-highlight"><strong>2. Handling Remaining Passive Components</strong></a><ul><li><a href="#step-1-positioning-the-bulk-decoupling-capacitor" class="table-of-contents__link toc-highlight"><strong>Step 1: Positioning the Bulk Decoupling Capacitor</strong></a></li></ul></li><li><a href="#3-inspecting-the-layout-and-preparing-for-routing" class="table-of-contents__link toc-highlight"><strong>3. Inspecting the Layout and Preparing for Routing</strong></a><ul><li><a href="#step-1-inspect-the-layout-in-the-3d-viewer" class="table-of-contents__link toc-highlight"><strong>Step 1: Inspect the Layout in the 3D Viewer</strong></a></li><li><a href="#step-2-fine-tune-the-placement-of-connectors-and-components" class="table-of-contents__link toc-highlight"><strong>Step 2: Fine-Tune the Placement of Connectors and Components</strong></a></li><li><a href="#step-3-prepare-for-routing" class="table-of-contents__link toc-highlight"><strong>Step 3: Prepare for Routing</strong></a></li></ul></li><li><a href="#4-adding-mounting-holes-and-board-outline" class="table-of-contents__link toc-highlight"><strong>4. Adding Mounting Holes and Board Outline</strong></a><ul><li><a href="#step-1-adding-mounting-holes" class="table-of-contents__link toc-highlight"><strong>Step 1: Adding Mounting Holes</strong></a></li><li><a href="#step-2-drawing-the-board-outline" class="table-of-contents__link toc-highlight"><strong>Step 2: Drawing the Board Outline</strong></a></li></ul></li><li><a href="#5-final-review-before-routing" class="table-of-contents__link toc-highlight"><strong>5. Final Review Before Routing</strong></a><ul><li><a href="#step-1-conduct-a-final-layout-review" class="table-of-contents__link toc-highlight"><strong>Step 1: Conduct a Final Layout Review</strong></a></li><li><a href="#step-2-prepare-for-routing" class="table-of-contents__link toc-highlight"><strong>Step 2: Prepare for Routing</strong></a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight"><strong>Conclusion</strong></a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/STM32-HW-Design-with-KiCAD/docs/category/introduction">Knowledge Base</a></li><li class="footer__item"><a class="footer__link-item" href="/STM32-HW-Design-with-KiCAD/docs/category/recipes">Recipes</a></li></ul></div><div class="col footer__col"><div class="footer__title">Projects</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project 1<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project 2<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project 3<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/STM32-HW-Design-with-KiCAD/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">STM32 Hardware Design with KiCAD</div></div></div></footer></div>
</body>
</html>