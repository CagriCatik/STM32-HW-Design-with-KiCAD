<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Scripts/DRC" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Design Rule Checking Customization | STM32 Hardware Design with KiCAD</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/docs/Scripts/DRC"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Design Rule Checking Customization | STM32 Hardware Design with KiCAD"><meta data-rh="true" name="description" content="Design Rule Checking (DRC) is a critical aspect of PCB design, ensuring that the layout adheres to both electrical and manufacturing constraints. While KiCad provides robust built-in DRC rules, there are times when custom design rules are needed for specific projects or when dealing with particular manufacturing requirements. Python scripting in KiCad allows you to extend and customize these DRC checks, enabling you to enforce unique constraints and enhance the reliability of your design."><meta data-rh="true" property="og:description" content="Design Rule Checking (DRC) is a critical aspect of PCB design, ensuring that the layout adheres to both electrical and manufacturing constraints. While KiCad provides robust built-in DRC rules, there are times when custom design rules are needed for specific projects or when dealing with particular manufacturing requirements. Python scripting in KiCad allows you to extend and customize these DRC checks, enabling you to enforce unique constraints and enhance the reliability of your design."><link data-rh="true" rel="icon" href="/STM32-HW-Design-with-KiCAD/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/docs/Scripts/DRC"><link data-rh="true" rel="alternate" href="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/docs/Scripts/DRC" hreflang="en"><link data-rh="true" rel="alternate" href="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/docs/Scripts/DRC" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Design Rule Checking Customization","item":"https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/docs/Scripts/DRC"}]}</script><link rel="alternate" type="application/rss+xml" href="/STM32-HW-Design-with-KiCAD/blog/rss.xml" title="STM32 Hardware Design with KiCAD RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/STM32-HW-Design-with-KiCAD/blog/atom.xml" title="STM32 Hardware Design with KiCAD Atom Feed">






<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-d6UvP8MjG/jrWTLxz4ph1bEXHVNyMYAx4GqeFPYYR5tWLm4XAoVRSaSejzE/sFs9" crossorigin="anonymous"><link rel="stylesheet" href="/STM32-HW-Design-with-KiCAD/assets/css/styles.cc534fa5.css">
<script src="/STM32-HW-Design-with-KiCAD/assets/js/runtime~main.607fb828.js" defer="defer"></script>
<script src="/STM32-HW-Design-with-KiCAD/assets/js/main.dfe735fd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/STM32-HW-Design-with-KiCAD/"><div class="navbar__logo"><img src="/STM32-HW-Design-with-KiCAD/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/STM32-HW-Design-with-KiCAD/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Introduction/">Introduction</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Schematic/STM32_uC_Decoupling">Schematics</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/KiCad_PCB-Setup">Layout</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/PCB_Routing/Decoupling-Capacitors-Cyrstal-Routing">Routing</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Manufacturing/Generating-BOM">Manufacturing</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Automated_Design">Scripts</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Glossary/A">Glossary</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Recipes/simplify-complex-components">Recipes</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Automated_Design"><span title="Key Applications of Python Scripting in KiCad" class="linkLabel_WmDU">Key Applications of Python Scripting in KiCad</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Customized_Footprint"><span title="Customized Footprint Generation" class="linkLabel_WmDU">Customized Footprint Generation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/DRC"><span title="Design Rule Checking Customization" class="linkLabel_WmDU">Design Rule Checking Customization</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Netlist"><span title="Netlist Manipulation" class="linkLabel_WmDU">Netlist Manipulation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/BOM"><span title="BOM Generation" class="linkLabel_WmDU">BOM Generation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Integration"><span title="Integration with External Tools" class="linkLabel_WmDU">Integration with External Tools</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/UI"><span title="User Interface Customization" class="linkLabel_WmDU">User Interface Customization</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Design_Automation"><span title="Design Automation" class="linkLabel_WmDU">Design Automation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Plug"><span title="Scripting Plugins" class="linkLabel_WmDU">Scripting Plugins</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/STM32-HW-Design-with-KiCAD/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Design Rule Checking Customization</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Design Rule Checking Customization</h1></header>
<p>Design Rule Checking (DRC) is a critical aspect of PCB design, ensuring that the layout adheres to both electrical and manufacturing constraints. While KiCad provides robust built-in DRC rules, there are times when custom design rules are needed for specific projects or when dealing with particular manufacturing requirements. Python scripting in KiCad allows you to extend and customize these DRC checks, enabling you to enforce unique constraints and enhance the reliability of your design.</p>
<p>Customizing DRC rules ensures that your design complies not only with standard guidelines but also with any specialized requirements that are essential for the performance, safety, or manufacturability of your PCB. For example, you may need custom rules for high-voltage designs, sensitive analog or RF sections, or complex multi-layer designs.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-customize-drc-with-python">Why Customize DRC with Python?<a href="#why-customize-drc-with-python" class="hash-link" aria-label="Direct link to Why Customize DRC with Python?" title="Direct link to Why Customize DRC with Python?" translate="no">​</a></h2>
<p>The default DRC checks in KiCad are comprehensive, but they are designed to cover a broad range of standard design scenarios. In certain projects, especially those involving advanced or specialized PCB designs, you may require more specific rules that go beyond the default checks. Python scripting provides the flexibility to define these additional rules and automate the enforcement of design constraints.</p>
<p>Key benefits of using Python for DRC customization:</p>
<ol>
<li class="">Flexibility: You can create custom rules tailored to your project’s unique requirements, whether it&#x27;s for a specific component, section of the board, or overall design strategy.</li>
<li class="">Automation: Automated rule enforcement saves time and reduces human error, ensuring that critical design checks are not overlooked.</li>
<li class="">Design Assurance: Custom DRC rules ensure that your design will meet not only electrical and physical requirements but also specific safety or reliability guidelines, such as high-voltage isolation or RF interference minimization.</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="common-use-cases-for-custom-drc-rules">Common Use Cases for Custom DRC Rules<a href="#common-use-cases-for-custom-drc-rules" class="hash-link" aria-label="Direct link to Common Use Cases for Custom DRC Rules" title="Direct link to Common Use Cases for Custom DRC Rules" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-high-voltage-clearance-rules">1. High-Voltage Clearance Rules<a href="#1-high-voltage-clearance-rules" class="hash-link" aria-label="Direct link to 1. High-Voltage Clearance Rules" title="Direct link to 1. High-Voltage Clearance Rules" translate="no">​</a></h3>
<p>In high-voltage designs, ensuring proper spacing between certain components and traces is critical to prevent arcing or breakdowns. Python can be used to enforce additional clearance rules in specific areas of the board, such as between high-voltage nets and low-voltage components.</p>
<p>Example Use Case:</p>
<ul>
<li class="">For any traces connected to high-voltage nets, enforce a clearance of 2 mm or more from nearby components, which is essential for safety and to prevent electrical discharge.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-analog-or-rf-routing-constraints">2. Analog or RF Routing Constraints<a href="#2-analog-or-rf-routing-constraints" class="hash-link" aria-label="Direct link to 2. Analog or RF Routing Constraints" title="Direct link to 2. Analog or RF Routing Constraints" translate="no">​</a></h3>
<p>Sensitive analog or RF signals often require specialized routing constraints, such as controlled impedance, isolation from noisy digital signals, or specific trace lengths. A Python script can enforce these constraints by checking the layout for compliance with analog or RF design best practices.</p>
<p>Example Use Case:</p>
<ul>
<li class="">Ensure that traces in RF sections have proper isolation from digital or power traces, maintaining a predefined minimum clearance.</li>
<li class="">Verify that traces in high-frequency sections follow controlled impedance routing and avoid sharp bends, which could introduce signal integrity issues.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-thermal-management">3. Thermal Management<a href="#3-thermal-management" class="hash-link" aria-label="Direct link to 3. Thermal Management" title="Direct link to 3. Thermal Management" translate="no">​</a></h3>
<p>Thermal considerations in PCB design require special handling, especially for components that generate significant heat. Custom DRC rules can ensure that thermal vias are placed properly and that there is adequate spacing for heat dissipation.</p>
<p>Example Use Case:</p>
<ul>
<li class="">Enforce the placement of thermal vias for components with high power dissipation, ensuring that there is adequate heat sinking to a ground plane or copper pour.</li>
<li class="">Check for sufficient copper thickness on traces carrying high current to prevent overheating.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-by-step-guide-implementing-a-custom-drc-rule-with-python">Step-by-Step Guide: Implementing a Custom DRC Rule with Python<a href="#step-by-step-guide-implementing-a-custom-drc-rule-with-python" class="hash-link" aria-label="Direct link to Step-by-Step Guide: Implementing a Custom DRC Rule with Python" title="Direct link to Step-by-Step Guide: Implementing a Custom DRC Rule with Python" translate="no">​</a></h2>
<p>Let’s walk through an example of how to create a custom DRC rule that enforces additional clearance for high-voltage traces in a design. The goal is to automatically check for a minimum 2 mm clearance between any net classified as &quot;high-voltage&quot; and all other components or traces.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-1-define-the-custom-rule">Step 1: Define the Custom Rule<a href="#step-1-define-the-custom-rule" class="hash-link" aria-label="Direct link to Step 1: Define the Custom Rule" title="Direct link to Step 1: Define the Custom Rule" translate="no">​</a></h3>
<p>The first step is to define the custom rule that needs to be enforced. In this case, we’ll create a rule that checks the clearance between high-voltage traces and other parts of the board.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pcbnew</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">check_high_voltage_clearance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">board</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Define the high-voltage nets</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    high_voltage_nets </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;HV_NET1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;HV_NET2&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Example high-voltage nets</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Define the required clearance (in mm)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    min_clearance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Get all tracks from the board</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tracks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> board</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetTracks</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Loop through each track and check clearance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> track </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> tracks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        net_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> track</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetNetname</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Check if the track belongs to a high-voltage net</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> net_name </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> high_voltage_nets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            track_clearance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> track</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetClearance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># Check clearance from other components and traces</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> other_track </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> tracks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> other_track </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> track</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    distance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> track</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetDistance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">other_track</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic"># If distance is less than required clearance, raise a DRC error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> distance </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> min_clearance </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000000</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># KiCad stores distances in nanometers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;DRC Error: High-voltage net </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">net_name</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> is too close to another net.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;All high-voltage clearance checks passed.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Example usage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">board </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pcbnew</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetBoard</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">check_high_voltage_clearance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">board</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-2-running-the-script">Step 2: Running the Script<a href="#step-2-running-the-script" class="hash-link" aria-label="Direct link to Step 2: Running the Script" title="Direct link to Step 2: Running the Script" translate="no">​</a></h3>
<p>Once the script is defined, you can run it directly within KiCad’s Python scripting console. The script will loop through all the traces on the board, check for high-voltage nets, and then verify that they maintain the required 2 mm clearance from other components and traces. If any violations are found, the script will print a DRC error message.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-3-modifying-the-rule">Step 3: Modifying the Rule<a href="#step-3-modifying-the-rule" class="hash-link" aria-label="Direct link to Step 3: Modifying the Rule" title="Direct link to Step 3: Modifying the Rule" translate="no">​</a></h3>
<p>You can easily modify this script to enforce different types of rules, such as:</p>
<ul>
<li class="">Varying the clearance requirement for different nets or components.</li>
<li class="">Adding specific checks for particular component types, such as through-hole vs. surface-mount components.</li>
<li class="">Implementing more advanced checks, such as verifying controlled impedance or via placement around sensitive components.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="best-practices-for-custom-drc-rule-implementation">Best Practices for Custom DRC Rule Implementation<a href="#best-practices-for-custom-drc-rule-implementation" class="hash-link" aria-label="Direct link to Best Practices for Custom DRC Rule Implementation" title="Direct link to Best Practices for Custom DRC Rule Implementation" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-targeted-rule-application">1. Targeted Rule Application<a href="#1-targeted-rule-application" class="hash-link" aria-label="Direct link to 1. Targeted Rule Application" title="Direct link to 1. Targeted Rule Application" translate="no">​</a></h3>
<p>Ensure that custom DRC rules are applied only to the relevant parts of the design. For example, if you&#x27;re enforcing additional clearance for high-voltage nets, ensure that the rule doesn&#x27;t apply to low-voltage nets or signal traces where it&#x27;s not necessary.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-integration-with-existing-drc">2. Integration with Existing DRC<a href="#2-integration-with-existing-drc" class="hash-link" aria-label="Direct link to 2. Integration with Existing DRC" title="Direct link to 2. Integration with Existing DRC" translate="no">​</a></h3>
<p>Custom rules should complement the existing DRC checks in KiCad, not replace them. Make sure your custom rules do not conflict with the built-in DRC rules. Ideally, run the built-in DRC first, and then apply custom rules afterward to catch any specialized constraints that KiCad might not detect.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-modular-scripting">3. Modular Scripting<a href="#3-modular-scripting" class="hash-link" aria-label="Direct link to 3. Modular Scripting" title="Direct link to 3. Modular Scripting" translate="no">​</a></h3>
<p>For complex projects, it’s a good idea to modularize your custom DRC scripts. Break down the different types of checks (e.g., high-voltage clearance, thermal management, RF routing) into separate functions. This makes it easier to maintain and update the scripts as the design evolves.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-test-the-script-on-small-sections-first">4. Test the Script on Small Sections First<a href="#4-test-the-script-on-small-sections-first" class="hash-link" aria-label="Direct link to 4. Test the Script on Small Sections First" title="Direct link to 4. Test the Script on Small Sections First" translate="no">​</a></h3>
<p>Before applying a custom DRC rule across the entire board, test it on a smaller section or a specific area of the design. This allows you to validate the rule and ensure that it’s correctly identifying violations without causing unnecessary slowdowns or false positives in large designs.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-error-reporting">5. Error Reporting<a href="#5-error-reporting" class="hash-link" aria-label="Direct link to 5. Error Reporting" title="Direct link to 5. Error Reporting" translate="no">​</a></h3>
<p>Ensure that your custom DRC script provides clear and detailed error messages. When a rule is violated, the script should indicate the exact location on the board and provide a suggestion for how to fix the issue. This minimizes debugging time and helps the designer quickly address problems.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="advanced-custom-drc-example-rf-signal-integrity-check">Advanced Custom DRC Example: RF Signal Integrity Check<a href="#advanced-custom-drc-example-rf-signal-integrity-check" class="hash-link" aria-label="Direct link to Advanced Custom DRC Example: RF Signal Integrity Check" title="Direct link to Advanced Custom DRC Example: RF Signal Integrity Check" translate="no">​</a></h2>
<p>In designs involving RF signals, maintaining signal integrity is crucial. Python scripting allows you to implement custom checks for RF sections of your PCB to ensure that specific routing constraints are followed.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-custom-rule">Example Custom Rule:<a href="#example-custom-rule" class="hash-link" aria-label="Direct link to Example Custom Rule:" title="Direct link to Example Custom Rule:" translate="no">​</a></h3>
<ul>
<li class="">Ensure that all traces connected to RF nets maintain a minimum clearance from digital nets to avoid noise coupling.</li>
<li class="">Verify that RF traces maintain a controlled impedance, checking the trace width and the dielectric layer thickness between the signal trace and ground plane.</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">check_rf_signal_integrity</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">board</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Define RF nets</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rf_nets </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;RF_NET1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;RF_NET2&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Define the minimum clearance required for RF nets</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rf_min_clearance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Get all tracks from the board</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tracks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> board</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetTracks</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Loop through each track and check RF rules</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> track </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> tracks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        net_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> track</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetNetname</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> net_name </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> rf_nets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            track_clearance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> track</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetClearance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># Check that clearance meets the RF requirements</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> other_track </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> tracks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> other_track </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> track</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    distance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> track</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetDistance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">other_track</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> distance </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> rf_min_clearance </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000000</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;DRC Error: RF net </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">net_name</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> is too close to another net.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;All RF signal integrity checks passed.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><br></span></code></pre></div></div>
<p>This script ensures that RF traces are properly isolated from other nets and maintain the required clearance. You can easily extend this script to check for other critical parameters, such as trace length matching or via avoidance in sensitive sections.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" translate="no">​</a></h2>
<p>Customizing DRC rules in KiCad through Python scripting provides PCB designers with a powerful tool for enforcing specific design requirements, improving reliability, and automating complex checks that are not covered by default. Whether you&#x27;re designing for high-voltage applications, RF circuits, or sensitive analog layouts, Python scripts offer the flexibility and precision needed to ensure your PCB design meets all necessary constraints.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/06_Scripts/03_DRC.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Customized_Footprint"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Customized Footprint Generation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Netlist"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Netlist Manipulation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-customize-drc-with-python" class="table-of-contents__link toc-highlight">Why Customize DRC with Python?</a></li><li><a href="#common-use-cases-for-custom-drc-rules" class="table-of-contents__link toc-highlight">Common Use Cases for Custom DRC Rules</a><ul><li><a href="#1-high-voltage-clearance-rules" class="table-of-contents__link toc-highlight">1. High-Voltage Clearance Rules</a></li><li><a href="#2-analog-or-rf-routing-constraints" class="table-of-contents__link toc-highlight">2. Analog or RF Routing Constraints</a></li><li><a href="#3-thermal-management" class="table-of-contents__link toc-highlight">3. Thermal Management</a></li></ul></li><li><a href="#step-by-step-guide-implementing-a-custom-drc-rule-with-python" class="table-of-contents__link toc-highlight">Step-by-Step Guide: Implementing a Custom DRC Rule with Python</a><ul><li><a href="#step-1-define-the-custom-rule" class="table-of-contents__link toc-highlight">Step 1: Define the Custom Rule</a></li><li><a href="#step-2-running-the-script" class="table-of-contents__link toc-highlight">Step 2: Running the Script</a></li><li><a href="#step-3-modifying-the-rule" class="table-of-contents__link toc-highlight">Step 3: Modifying the Rule</a></li></ul></li><li><a href="#best-practices-for-custom-drc-rule-implementation" class="table-of-contents__link toc-highlight">Best Practices for Custom DRC Rule Implementation</a><ul><li><a href="#1-targeted-rule-application" class="table-of-contents__link toc-highlight">1. Targeted Rule Application</a></li><li><a href="#2-integration-with-existing-drc" class="table-of-contents__link toc-highlight">2. Integration with Existing DRC</a></li><li><a href="#3-modular-scripting" class="table-of-contents__link toc-highlight">3. Modular Scripting</a></li><li><a href="#4-test-the-script-on-small-sections-first" class="table-of-contents__link toc-highlight">4. Test the Script on Small Sections First</a></li><li><a href="#5-error-reporting" class="table-of-contents__link toc-highlight">5. Error Reporting</a></li></ul></li><li><a href="#advanced-custom-drc-example-rf-signal-integrity-check" class="table-of-contents__link toc-highlight">Advanced Custom DRC Example: RF Signal Integrity Check</a><ul><li><a href="#example-custom-rule" class="table-of-contents__link toc-highlight">Example Custom Rule:</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/STM32-HW-Design-with-KiCAD/docs/category/introduction">Knowledge Base</a></li><li class="footer__item"><a class="footer__link-item" href="/STM32-HW-Design-with-KiCAD/docs/category/recipes">Recipes</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Projects</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project 1<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project 2<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project 3<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/STM32-HW-Design-with-KiCAD/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">STM32 Hardware Design with KiCAD</div></div></div></footer></div>
</body>
</html>