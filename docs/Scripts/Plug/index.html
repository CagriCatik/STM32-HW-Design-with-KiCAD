<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Scripts/Plug" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Scripting Plugins | STM32 Hardware Design with KiCAD</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/docs/Scripts/Plug"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Scripting Plugins | STM32 Hardware Design with KiCAD"><meta data-rh="true" name="description" content="KiCad’s Python scripting environment allows users to create custom plugins that can significantly enhance the functionality of the software. These plugins enable users to extend KiCad&#x27;s native capabilities by adding new tools and automating complex workflows. With Python scripting plugins, PCB designers can implement specific features or integrate external tools into their design environment, providing a high level of customization to match the needs of a particular project or workflow."><meta data-rh="true" property="og:description" content="KiCad’s Python scripting environment allows users to create custom plugins that can significantly enhance the functionality of the software. These plugins enable users to extend KiCad&#x27;s native capabilities by adding new tools and automating complex workflows. With Python scripting plugins, PCB designers can implement specific features or integrate external tools into their design environment, providing a high level of customization to match the needs of a particular project or workflow."><link data-rh="true" rel="icon" href="/STM32-HW-Design-with-KiCAD/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/docs/Scripts/Plug"><link data-rh="true" rel="alternate" href="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/docs/Scripts/Plug" hreflang="en"><link data-rh="true" rel="alternate" href="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/docs/Scripts/Plug" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/STM32-HW-Design-with-KiCAD/blog/rss.xml" title="STM32 Hardware Design with KiCAD RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/STM32-HW-Design-with-KiCAD/blog/atom.xml" title="STM32 Hardware Design with KiCAD Atom Feed">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-d6UvP8MjG/jrWTLxz4ph1bEXHVNyMYAx4GqeFPYYR5tWLm4XAoVRSaSejzE/sFs9" crossorigin="anonymous"><link rel="stylesheet" href="/STM32-HW-Design-with-KiCAD/assets/css/styles.a479dc71.css">
<script src="/STM32-HW-Design-with-KiCAD/assets/js/runtime~main.a8dbf2b1.js" defer="defer"></script>
<script src="/STM32-HW-Design-with-KiCAD/assets/js/main.2a63344e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/STM32-HW-Design-with-KiCAD/"><div class="navbar__logo"><img src="/STM32-HW-Design-with-KiCAD/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/STM32-HW-Design-with-KiCAD/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">STM32 Hardware Design with KiCAD</b></a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Introduction/">Introduction</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Schematic/STM32_uC_Decoupling">Schematics</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/KiCad_PCB-Setup">Layout</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/PCB_Routing/Decoupling-Capacitors-Cyrstal-Routing">Routing</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Manufacturing/BOM-Gerber-Drill">Manufacturing</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Automated_Design">Scripts</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Glossary/A">Glossary</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Automated_Design">Key Applications of Python Scripting in KiCad</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Customized_Footprint">Customized Footprint Generation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/DRC">Design Rule Checking Customization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Netlist">Netlist Manipulation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/BOM">Bill of Materials (BOM) Generation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Integration">Integration with External Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/UI">User Interface Customization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Design_Automation">Design Automation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Plug">Scripting Plugins</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/STM32-HW-Design-with-KiCAD/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Scripting Plugins</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Scripting Plugins</h1></header>
<p>KiCad’s Python scripting environment allows users to create custom plugins that can significantly enhance the functionality of the software. These plugins enable users to extend KiCad&#x27;s native capabilities by adding new tools and automating complex workflows. With Python scripting plugins, PCB designers can implement specific features or integrate external tools into their design environment, providing a high level of customization to match the needs of a particular project or workflow.</p>
<p>Scripting plugins in KiCad can range from simple automation scripts to fully-fledged tools that automate specific design tasks, integrate with external systems, or analyze and verify designs. This level of customization helps designers create more efficient and reliable workflows, reducing the time spent on repetitive tasks and enhancing the accuracy of the final design.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-create-scripting-plugins">Why Create Scripting Plugins?<a href="#why-create-scripting-plugins" class="hash-link" aria-label="Direct link to Why Create Scripting Plugins?" title="Direct link to Why Create Scripting Plugins?">​</a></h2>
<p>Creating plugins in KiCad allows users to go beyond the standard feature set, creating custom workflows and tools tailored specifically to their design requirements. This provides several key advantages:</p>
<ul>
<li>Automation of Specialized Tasks: If you often perform a specific set of tasks, a scripting plugin can automate those, saving time and ensuring consistency across designs.</li>
<li>Customization for Unique Workflows: Every design project is different, and a one-size-fits-all solution may not always suffice. Scripting plugins allow you to customize the design environment to meet your specific needs, whether that’s in layout, simulation, verification, or integration with other tools.</li>
<li>Integration with External Tools: KiCad can be extended to communicate with other software tools, including simulation environments, mechanical CAD tools, or version control systems. This integration helps create a seamless workflow between different stages of the design and validation process.</li>
<li>Adding Advanced Features: Through scripting plugins, you can add features or functionalities not included in the core software, such as custom analysis tools, unique routing optimizations, or even new design validation techniques.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="common-use-cases-for-scripting-plugins">Common Use Cases for Scripting Plugins<a href="#common-use-cases-for-scripting-plugins" class="hash-link" aria-label="Direct link to Common Use Cases for Scripting Plugins" title="Direct link to Common Use Cases for Scripting Plugins">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-automating-layout-optimizations">1. Automating Layout Optimizations<a href="#1-automating-layout-optimizations" class="hash-link" aria-label="Direct link to 1. Automating Layout Optimizations" title="Direct link to 1. Automating Layout Optimizations">​</a></h3>
<p>In complex PCB designs, optimizing component placement and routing is crucial to achieving good performance and manufacturability. Writing plugins to automate layout optimizations can significantly reduce manual effort while ensuring better design outcomes.</p>
<p>Example Use Case:</p>
<ul>
<li>A plugin could automatically arrange decoupling capacitors close to their associated IC pins, ensuring optimal performance by minimizing trace lengths and reducing noise.</li>
<li>A custom routing plugin could enforce strict routing rules for high-speed signals, such as controlled impedance traces, ensuring compliance with signal integrity requirements.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-integration-with-external-tools">2. Integration with External Tools<a href="#2-integration-with-external-tools" class="hash-link" aria-label="Direct link to 2. Integration with External Tools" title="Direct link to 2. Integration with External Tools">​</a></h3>
<p>One of the most powerful aspects of scripting plugins is the ability to integrate KiCad with external tools. This could be useful for several scenarios, such as importing design data from mechanical CAD tools, running simulations on the PCB layout, or integrating with version control systems to track changes in design files.</p>
<p>Example Use Case:</p>
<ul>
<li>A plugin could connect KiCad with a mechanical CAD tool (e.g., FreeCAD) to ensure that the PCB design fits within the mechanical enclosure. The plugin could automatically generate and import the required 3D model into KiCad.</li>
<li>Integration with simulation tools like SPICE or specialized electromagnetic simulation software allows designers to test and validate PCB designs directly from KiCad, avoiding the need for manual file exports and imports.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-custom-analysis-and-verification-tools">3. Custom Analysis and Verification Tools<a href="#3-custom-analysis-and-verification-tools" class="hash-link" aria-label="Direct link to 3. Custom Analysis and Verification Tools" title="Direct link to 3. Custom Analysis and Verification Tools">​</a></h3>
<p>In some cases, KiCad’s built-in analysis and verification tools may not cover all the specific checks required by your design process. A custom plugin can fill this gap, providing additional analysis tools tailored to your project’s requirements.</p>
<p>Example Use Case:</p>
<ul>
<li>A verification plugin could check for custom design rules, such as ensuring that all power traces meet a minimum width for high-current applications.</li>
<li>A signal integrity plugin could analyze critical traces, such as differential pairs or high-speed data lines, and flag potential issues based on user-defined rules.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-batch-processing-and-iterative-optimization">4. Batch Processing and Iterative Optimization<a href="#4-batch-processing-and-iterative-optimization" class="hash-link" aria-label="Direct link to 4. Batch Processing and Iterative Optimization" title="Direct link to 4. Batch Processing and Iterative Optimization">​</a></h3>
<p>When dealing with multiple design iterations or batch processing of designs, manually performing the same actions on each design can be tedious and error-prone. Plugins can automate this process, allowing for batch design rule checking, netlist validation, or even routing optimization across multiple PCB designs.</p>
<p>Example Use Case:</p>
<ul>
<li>A plugin could automate the process of exporting Gerber files, generating BOMs, and running design rule checks across multiple designs in a project, saving time and ensuring consistency.</li>
<li>For iterative design processes, a plugin could automatically apply certain optimizations, such as re-routing high-speed signal traces, based on previous design performance metrics.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-by-step-guide-creating-a-kicad-plugin">Step-by-Step Guide: Creating a KiCad Plugin<a href="#step-by-step-guide-creating-a-kicad-plugin" class="hash-link" aria-label="Direct link to Step-by-Step Guide: Creating a KiCad Plugin" title="Direct link to Step-by-Step Guide: Creating a KiCad Plugin">​</a></h2>
<p>Let’s walk through an example of creating a simple KiCad plugin that automates layout optimization for placing decoupling capacitors close to IC pins.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-setting-up-the-plugin-structure">Step 1: Setting Up the Plugin Structure<a href="#step-1-setting-up-the-plugin-structure" class="hash-link" aria-label="Direct link to Step 1: Setting Up the Plugin Structure" title="Direct link to Step 1: Setting Up the Plugin Structure">​</a></h3>
<p>The first step is to set up the basic structure of a KiCad plugin. Plugins in KiCad are typically Python scripts that are placed in the <code>scripting/plugins</code> folder. You can create a folder for your plugin and include a script file inside.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pcbnew</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">DecouplingCapOptimizer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pcbnew</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ActionPlugin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">defaults</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Decoupling Capacitor Optimizer&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">category </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Layout&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">description </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Automatically place decoupling capacitors close to ICs&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># This is where the core functionality of the plugin goes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        board </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pcbnew</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetBoard</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        components </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> board</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetModules</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> component </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> components</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;C&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> component</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetReference</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Check for capacitors</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ic </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">find_associated_ic</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">component</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> ic</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">place_capacitor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">component</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ic</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">find_associated_ic</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> capacitor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Logic to find the IC associated with this decoupling capacitor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># For simplicity, assume ICs have references starting with &quot;U&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        board </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pcbnew</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetBoard</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> component </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> board</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetModules</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;U&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> component</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetReference</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">place_capacitor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> capacitor</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ic</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Logic to place the capacitor close to the IC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ic_position </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ic</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetPosition</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        capacitor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SetPosition</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ic_position </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> pcbnew</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">wxPointMM</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Example placement</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DecouplingCapOptimizer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">register</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-defining-the-plugin-logic">Step 2: Defining the Plugin Logic<a href="#step-2-defining-the-plugin-logic" class="hash-link" aria-label="Direct link to Step 2: Defining the Plugin Logic" title="Direct link to Step 2: Defining the Plugin Logic">​</a></h3>
<p>In this simple example, the plugin iterates over all components on the board, identifies decoupling capacitors, and places them close to their associated ICs. The core logic includes:</p>
<ul>
<li>Identifying Capacitors: The script checks component references to find capacitors (in this case, components with references starting with &quot;C&quot;).</li>
<li>Finding the Associated IC: A simple heuristic is used to find an IC associated with the capacitor (e.g., components with references starting with &quot;U&quot;).</li>
<li>Placing the Capacitor: The capacitor is automatically positioned close to the IC using the <code>SetPosition</code> method.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-running-the-plugin">Step 3: Running the Plugin<a href="#step-3-running-the-plugin" class="hash-link" aria-label="Direct link to Step 3: Running the Plugin" title="Direct link to Step 3: Running the Plugin">​</a></h3>
<p>Once the plugin is set up, you can run it directly within KiCad. The plugin can be executed from the KiCad interface via the <code>Tools &gt; External Plugins</code> menu, where it will automatically appear after registration.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-testing-and-fine-tuning">Step 4: Testing and Fine-Tuning<a href="#step-4-testing-and-fine-tuning" class="hash-link" aria-label="Direct link to Step 4: Testing and Fine-Tuning" title="Direct link to Step 4: Testing and Fine-Tuning">​</a></h3>
<p>After running the plugin, you can review the placement of the capacitors and fine-tune the plugin logic as needed. For instance, you can adjust the placement distances or improve the logic for associating capacitors with ICs.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices-for-developing-kicad-plugins">Best Practices for Developing KiCad Plugins<a href="#best-practices-for-developing-kicad-plugins" class="hash-link" aria-label="Direct link to Best Practices for Developing KiCad Plugins" title="Direct link to Best Practices for Developing KiCad Plugins">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-modular-and-reusable-code">1. Modular and Reusable Code<a href="#1-modular-and-reusable-code" class="hash-link" aria-label="Direct link to 1. Modular and Reusable Code" title="Direct link to 1. Modular and Reusable Code">​</a></h3>
<p>When writing plugins, structure your code in a modular way. Break down the functionality into separate functions or classes, so you can reuse or expand them later. This will also make it easier to troubleshoot or extend your plugins in the future.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-comprehensive-error-handling">2. Comprehensive Error Handling<a href="#2-comprehensive-error-handling" class="hash-link" aria-label="Direct link to 2. Comprehensive Error Handling" title="Direct link to 2. Comprehensive Error Handling">​</a></h3>
<p>PCB designs can be complex, with many edge cases. When writing a plugin, ensure you handle potential errors gracefully. For example, if a component is missing or if an operation fails, the plugin should log a message or notify the user rather than crashing or causing unexpected behavior.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-user-interface-integration">3. User Interface Integration<a href="#3-user-interface-integration" class="hash-link" aria-label="Direct link to 3. User Interface Integration" title="Direct link to 3. User Interface Integration">​</a></h3>
<p>For more advanced plugins, consider adding a user interface (UI) to allow users to customize plugin behavior. KiCad’s Python scripting environment allows you to create simple dialog boxes or configuration windows, enabling users to interact with your plugin directly.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-maintainability-and-documentation">4. Maintainability and Documentation<a href="#4-maintainability-and-documentation" class="hash-link" aria-label="Direct link to 4. Maintainability and Documentation" title="Direct link to 4. Maintainability and Documentation">​</a></h3>
<p>Document your plugins thoroughly, especially if they will be used by other team members or shared with the KiCad community. Provide clear instructions on how to install and use the plugin, as well as how to modify it if needed. Maintain clean, well-commented code to make it easier to update the plugin as KiCad evolves.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-performance-optimization">5. Performance Optimization<a href="#5-performance-optimization" class="hash-link" aria-label="Direct link to 5. Performance Optimization" title="Direct link to 5. Performance Optimization">​</a></h3>
<p>For large PCBs with many components, scripts can become slow if not optimized. When writing plugins, try to minimize the number of times you access or modify the board data. Instead, batch operations when possible and avoid unnecessary iterations over components.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-example-plugin-for-controlled-impedance-trace-routing">Advanced Example: Plugin for Controlled Impedance Trace Routing<a href="#advanced-example-plugin-for-controlled-impedance-trace-routing" class="hash-link" aria-label="Direct link to Advanced Example: Plugin for Controlled Impedance Trace Routing" title="Direct link to Advanced Example: Plugin for Controlled Impedance Trace Routing">​</a></h2>
<p>For an advanced example, consider a plugin that automates controlled impedance trace routing for high-speed designs. Controlled impedance routing is essential for maintaining signal integrity, especially in designs with high-frequency signals like USB or Ethernet.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ControlledImpedanceRouter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pcbnew</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ActionPlugin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">defaults</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Controlled Impedance Router&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">category </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Routing&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">description </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Automatically route controlled impedance traces&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        board </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pcbnew</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetBoard</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        net_classes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> board</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetNetClasses</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> net </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> board</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetNetsByName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;USB&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> net</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetNetname</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Check for high-speed nets</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">route_controlled_impedance_trace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">net</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> net_classes</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HighSpeed&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">route_controlled_impedance_trace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> net</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> net_class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Logic to route the trace with controlled impedance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> track </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> net</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetTracks</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            track</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SetWidth</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">net_class</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GetClearance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ControlledImpedanceRouter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">register</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This example automates the process of routing controlled impedance traces for high-speed signals, ensuring that specific nets (e.g., USB signals) adhere to the required design rules.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>Scripting plugins in KiCad offers a robust way to extend and customize the PCB design workflow. Whether automating layout tasks, integrating external tools, or adding new analysis capabilities, Python plugins empower designers to tailor KiCad to their specific needs. By following best practices and exploring advanced use cases, you can unlock the full potential of KiCad’s Python scripting environment and create more efficient, optimized, and customized design processes.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/06_Scripts/09_Plug.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Design_Automation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Design Automation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-create-scripting-plugins" class="table-of-contents__link toc-highlight">Why Create Scripting Plugins?</a></li><li><a href="#common-use-cases-for-scripting-plugins" class="table-of-contents__link toc-highlight">Common Use Cases for Scripting Plugins</a><ul><li><a href="#1-automating-layout-optimizations" class="table-of-contents__link toc-highlight">1. Automating Layout Optimizations</a></li><li><a href="#2-integration-with-external-tools" class="table-of-contents__link toc-highlight">2. Integration with External Tools</a></li><li><a href="#3-custom-analysis-and-verification-tools" class="table-of-contents__link toc-highlight">3. Custom Analysis and Verification Tools</a></li><li><a href="#4-batch-processing-and-iterative-optimization" class="table-of-contents__link toc-highlight">4. Batch Processing and Iterative Optimization</a></li></ul></li><li><a href="#step-by-step-guide-creating-a-kicad-plugin" class="table-of-contents__link toc-highlight">Step-by-Step Guide: Creating a KiCad Plugin</a><ul><li><a href="#step-1-setting-up-the-plugin-structure" class="table-of-contents__link toc-highlight">Step 1: Setting Up the Plugin Structure</a></li><li><a href="#step-2-defining-the-plugin-logic" class="table-of-contents__link toc-highlight">Step 2: Defining the Plugin Logic</a></li><li><a href="#step-3-running-the-plugin" class="table-of-contents__link toc-highlight">Step 3: Running the Plugin</a></li><li><a href="#step-4-testing-and-fine-tuning" class="table-of-contents__link toc-highlight">Step 4: Testing and Fine-Tuning</a></li></ul></li><li><a href="#best-practices-for-developing-kicad-plugins" class="table-of-contents__link toc-highlight">Best Practices for Developing KiCad Plugins</a><ul><li><a href="#1-modular-and-reusable-code" class="table-of-contents__link toc-highlight">1. Modular and Reusable Code</a></li><li><a href="#2-comprehensive-error-handling" class="table-of-contents__link toc-highlight">2. Comprehensive Error Handling</a></li><li><a href="#3-user-interface-integration" class="table-of-contents__link toc-highlight">3. User Interface Integration</a></li><li><a href="#4-maintainability-and-documentation" class="table-of-contents__link toc-highlight">4. Maintainability and Documentation</a></li><li><a href="#5-performance-optimization" class="table-of-contents__link toc-highlight">5. Performance Optimization</a></li></ul></li><li><a href="#advanced-example-plugin-for-controlled-impedance-trace-routing" class="table-of-contents__link toc-highlight">Advanced Example: Plugin for Controlled Impedance Trace Routing</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/STM32-HW-Design-with-KiCAD/docs/category/introduction">Knowledge Base</a></li><li class="footer__item"><a class="footer__link-item" href="/STM32-HW-Design-with-KiCAD/docs/category/recipes">Recipes</a></li></ul></div><div class="col footer__col"><div class="footer__title">Projects</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project 1<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project 2<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project 3<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/STM32-HW-Design-with-KiCAD/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">STM32 Hardware Design with KiCAD</div></div></div></footer></div>
</body>
</html>