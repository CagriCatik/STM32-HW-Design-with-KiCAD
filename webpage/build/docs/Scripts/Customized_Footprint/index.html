<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Scripts/Customized_Footprint" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Customized Footprint Generation | STM32 Hardware Design with KiCAD</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/docs/Scripts/Customized_Footprint"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Customized Footprint Generation | STM32 Hardware Design with KiCAD"><meta data-rh="true" name="description" content="Python scripting in KiCad offers an efficient and flexible way to generate custom footprints for components, especially in cases where non-standard footprints are required or when working with a large number of components that need consistent layout properties. Custom footprints can be critical for designs that have special mounting requirements, mechanical constraints, or non-typical geometries. Automating footprint creation through scripting also ensures accuracy and consistency across multiple components, which can be particularly useful for large or modular designs."><meta data-rh="true" property="og:description" content="Python scripting in KiCad offers an efficient and flexible way to generate custom footprints for components, especially in cases where non-standard footprints are required or when working with a large number of components that need consistent layout properties. Custom footprints can be critical for designs that have special mounting requirements, mechanical constraints, or non-typical geometries. Automating footprint creation through scripting also ensures accuracy and consistency across multiple components, which can be particularly useful for large or modular designs."><link data-rh="true" rel="icon" href="/STM32-HW-Design-with-KiCAD/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/docs/Scripts/Customized_Footprint"><link data-rh="true" rel="alternate" href="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/docs/Scripts/Customized_Footprint" hreflang="en"><link data-rh="true" rel="alternate" href="https://CagriCatik.github.io/STM32-HW-Design-with-KiCAD/docs/Scripts/Customized_Footprint" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/STM32-HW-Design-with-KiCAD/blog/rss.xml" title="STM32 Hardware Design with KiCAD RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/STM32-HW-Design-with-KiCAD/blog/atom.xml" title="STM32 Hardware Design with KiCAD Atom Feed">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-d6UvP8MjG/jrWTLxz4ph1bEXHVNyMYAx4GqeFPYYR5tWLm4XAoVRSaSejzE/sFs9" crossorigin="anonymous"><link rel="stylesheet" href="/STM32-HW-Design-with-KiCAD/assets/css/styles.7aa4f678.css">
<script src="/STM32-HW-Design-with-KiCAD/assets/js/runtime~main.bdf553f8.js" defer="defer"></script>
<script src="/STM32-HW-Design-with-KiCAD/assets/js/main.1e04f7b0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/STM32-HW-Design-with-KiCAD/"><div class="navbar__logo"><img src="/STM32-HW-Design-with-KiCAD/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/STM32-HW-Design-with-KiCAD/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">STM32 Hardware Design with KiCAD</b></a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Introduction/">Introduction</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Schematic/STM32_uC_Decoupling">Schematics</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/PCB_Layout/KiCad_PCB-Setup">Layout</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/PCB_Routing/Decoupling-Capacitors-Cyrstal-Routing">Routing</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Manufacturing/BOM-Gerber-Drill">Manufacturing</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Automated_Design">Scripts</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/docs/Glossary/A">Glossary</a><a class="navbar__item navbar__link" href="/STM32-HW-Design-with-KiCAD/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Automated_Design">Key Applications of Python Scripting in KiCad</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Customized_Footprint">Customized Footprint Generation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/DRC">Design Rule Checking Customization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Netlist">Netlist Manipulation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/BOM">Bill of Materials (BOM) Generation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Integration">Integration with External Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/UI">User Interface Customization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Design_Automation">Design Automation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Plug">Scripting Plugins</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/STM32-HW-Design-with-KiCAD/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Customized Footprint Generation</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Customized Footprint Generation</h1></header>
<p>Python scripting in KiCad offers an efficient and flexible way to generate custom footprints for components, especially in cases where non-standard footprints are required or when working with a large number of components that need consistent layout properties. Custom footprints can be critical for designs that have special mounting requirements, mechanical constraints, or non-typical geometries. Automating footprint creation through scripting also ensures accuracy and consistency across multiple components, which can be particularly useful for large or modular designs.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-use-python-for-footprint-generation">Why Use Python for Footprint Generation?<a href="#why-use-python-for-footprint-generation" class="hash-link" aria-label="Direct link to Why Use Python for Footprint Generation?" title="Direct link to Why Use Python for Footprint Generation?">​</a></h2>
<p>Creating footprints manually in KiCad can be time-consuming, especially when dealing with complex designs or large numbers of components. Python scripting allows you to automate this process, ensuring consistency in pad sizes, spacings, and silkscreen markings. With scripting, you can also easily generate variations of a footprint by simply adjusting a few parameters (e.g., number of pins, pad size), which can significantly accelerate the design process for large projects.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="components-of-a-custom-footprint">Components of a Custom Footprint<a href="#components-of-a-custom-footprint" class="hash-link" aria-label="Direct link to Components of a Custom Footprint" title="Direct link to Components of a Custom Footprint">​</a></h2>
<p>When generating a custom footprint using Python, you typically need to define the following key elements:</p>
<ol>
<li>Pads: The electrical contact points on the footprint. These are essential for defining where the component&#x27;s leads or terminals will connect to the PCB.</li>
<li>Silkscreen Markings: Visual indicators such as component outlines, reference designators, and polarity marks.</li>
<li>Courtyard: The area surrounding the component where other components cannot be placed, ensuring clearance for soldering or assembly.</li>
<li>Placement of the Footprint: Ensuring the proper alignment of pads, silkscreen, and courtyard with respect to the component&#x27;s mechanical dimensions.</li>
<li>Metadata: Adding reference designators and descriptions for identification and organization within KiCad.</li>
</ol>
<p>By using Python, all these aspects can be automated and precisely controlled.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices-for-custom-footprint-generation">Best Practices for Custom Footprint Generation<a href="#best-practices-for-custom-footprint-generation" class="hash-link" aria-label="Direct link to Best Practices for Custom Footprint Generation" title="Direct link to Best Practices for Custom Footprint Generation">​</a></h2>
<p>When generating custom footprints programmatically, several best practices should be followed to ensure the footprint will work correctly and meet design specifications.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-follow-the-components-datasheet">1. Follow the Component&#x27;s Datasheet<a href="#1-follow-the-components-datasheet" class="hash-link" aria-label="Direct link to 1. Follow the Component&#x27;s Datasheet" title="Direct link to 1. Follow the Component&#x27;s Datasheet">​</a></h3>
<p>The foundation of any good custom footprint is the component&#x27;s datasheet. All dimensions, including pad sizes, spacings, pin positions, and other geometric constraints, should be derived directly from the datasheet. Incorrect dimensions or assumptions can lead to misaligned components during the assembly process or unreliable electrical connections.</p>
<p>Datasheet-Based Parameters:</p>
<ul>
<li>Pad Size: Pad dimensions should be based on the component&#x27;s terminal size, taking into account soldering and thermal relief considerations.</li>
<li>Pin Pitch: This is the distance between adjacent pins on the component and should be accurately reflected in the pad spacing on the footprint.</li>
<li>Component Outline and Courtyard: Ensure that the component outline and courtyard are drawn according to the dimensions specified in the datasheet, providing adequate clearance for placement and soldering.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-define-pad-layouts-consistently">2. Define Pad Layouts Consistently<a href="#2-define-pad-layouts-consistently" class="hash-link" aria-label="Direct link to 2. Define Pad Layouts Consistently" title="Direct link to 2. Define Pad Layouts Consistently">​</a></h3>
<p>Consistency is key when creating footprints, especially in designs where multiple similar components are used. By using Python scripting, you can ensure that the same pad layout and spacing rules are applied to all relevant components.</p>
<p>Best Practices:</p>
<ul>
<li>Pad Shape and Size: Define pad shapes (e.g., rectangular, circular, or oval) consistently across similar components. Ensure the size is adequate for both the component lead and soldering process.</li>
<li>Tolerance Considerations: When defining pad size and spacing, include tolerances for assembly to account for variations in manufacturing processes, component size, and solder paste application.</li>
<li>Alignment of Pads: Maintain consistent alignment for all pads, especially for surface-mount components. Pads should be aligned symmetrically to the component&#x27;s center to ensure even solder paste application and assembly accuracy.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-silkscreen-and-courtyard-markings">3. Silkscreen and Courtyard Markings<a href="#3-silkscreen-and-courtyard-markings" class="hash-link" aria-label="Direct link to 3. Silkscreen and Courtyard Markings" title="Direct link to 3. Silkscreen and Courtyard Markings">​</a></h3>
<p>Good silkscreen markings improve the readability and assembly of a PCB. These markings should include clear component outlines, reference designators, and polarity marks where needed. Additionally, the courtyard defines the component&#x27;s keep-out zone to prevent other components from being placed too close.</p>
<p>Best Practices:</p>
<ul>
<li>Polarity and Pin 1 Marking: For components like diodes, LEDs, and polarized capacitors, include clear markings (e.g., arrows, dots) to indicate polarity or the location of Pin 1.</li>
<li>Component Outline: Use silkscreen to show the physical outline of the component. Ensure that the outline doesn&#x27;t interfere with pads or vias, as silkscreen over pads can affect solderability.</li>
<li>Courtyard Clearance: Define the courtyard for each footprint with enough clearance to prevent components from being placed too close. This is particularly important for large components with high thermal dissipation requirements or components that require space for proper soldering.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-parameterized-footprint-generation">4. Parameterized Footprint Generation<a href="#4-parameterized-footprint-generation" class="hash-link" aria-label="Direct link to 4. Parameterized Footprint Generation" title="Direct link to 4. Parameterized Footprint Generation">​</a></h3>
<p>Python scripting allows the creation of parameterized footprints, where key dimensions (e.g., pin count, pad size, or pin pitch) are passed as variables. This approach makes it easier to generate variations of the same component without needing to manually adjust each one.</p>
<p>Example Use Case:
If you&#x27;re designing footprints for multiple ICs with varying pin counts, you can use a script to automatically adjust the pad layout based on the number of pins, ensuring consistent pad sizing, spacing, and silkscreen markings across all variants.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-check-for-design-rule-compliance">5. Check for Design Rule Compliance<a href="#5-check-for-design-rule-compliance" class="hash-link" aria-label="Direct link to 5. Check for Design Rule Compliance" title="Direct link to 5. Check for Design Rule Compliance">​</a></h3>
<p>Before integrating a custom footprint into a design, it&#x27;s essential to ensure that it complies with the design rules (DRC) set for the PCB. Python scripts can help enforce these design rules by checking pad spacing, clearance from the courtyard, and alignment of the footprint with other components on the board.</p>
<p>Best Practices:</p>
<ul>
<li>DRC Compliance: After generating the custom footprint, run a design rule check (DRC) to ensure that all pads and outlines comply with the manufacturing constraints and assembly tolerances.</li>
<li>Manual Verification: Even though scripts generate footprints programmatically, it’s always a good idea to manually verify the dimensions and placement of the pads and silkscreen by checking against the datasheet.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-by-step-guide-for-generating-a-custom-footprint-with-python">Step-by-Step Guide for Generating a Custom Footprint with Python<a href="#step-by-step-guide-for-generating-a-custom-footprint-with-python" class="hash-link" aria-label="Direct link to Step-by-Step Guide for Generating a Custom Footprint with Python" title="Direct link to Step-by-Step Guide for Generating a Custom Footprint with Python">​</a></h2>
<p>Here’s an example of how to create a custom footprint for a 4-pin component using Python scripting in KiCad:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pcbnew</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generate_custom_footprint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">component_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Create a new footprint object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    footprint </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pcbnew</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Footprint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Set footprint properties</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    footprint</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SetReference</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">component_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    footprint</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SetDescription</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Custom footprint for &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> component_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Define pad layout and dimensions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pad_count </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pad_width </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># in mm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pad_height </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># in mm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pad_spacing </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.5</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># in mm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Add pads to the footprint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pad_count</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pad </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pcbnew</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">D_PAD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">footprint</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pad</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SetSize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pcbnew</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">wxSizeMM</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pad_width</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pad_height</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pad</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">SetPosition</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pcbnew</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">wxPointMM</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> pad_spacing</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Adjust position for each pad</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        footprint</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pad</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Save the footprint to a file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    footprint_file_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> component_name </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;.kicad_mod&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pcbnew</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PCB_IO</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">FootprintSave</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">footprint</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> footprint_file_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Custom footprint generated for&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> component_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Example usage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">generate_custom_footprint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;CustomComponent&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Explanation:</p>
<ul>
<li>Footprint Creation: We begin by creating a new footprint object and setting the reference (the name of the component) and the description.</li>
<li>Pad Layout: The pad layout is defined based on the number of pads, their dimensions, and the spacing between them. The <code>pcbnew.wxSizeMM</code> function is used to set the pad size, and <code>pcbnew.wxPointMM</code> is used to position each pad.</li>
<li>File Output: Once the footprint is created, it is saved to a <code>.kicad_mod</code> file, which can then be imported and used in the PCB design.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="benefits-of-custom-footprint-generation-with-python">Benefits of Custom Footprint Generation with Python<a href="#benefits-of-custom-footprint-generation-with-python" class="hash-link" aria-label="Direct link to Benefits of Custom Footprint Generation with Python" title="Direct link to Benefits of Custom Footprint Generation with Python">​</a></h2>
<ul>
<li>Efficiency: Automating the generation of footprints, especially for large or modular designs, saves time and ensures consistency.</li>
<li>Consistency: When generating multiple footprints with similar layouts, Python scripts ensure that all footprints follow the same layout principles, reducing the risk of errors during placement.</li>
<li>Flexibility: Scripting allows you to customize each aspect of the footprint, making it easy to adapt designs to specific project requirements or manufacturing constraints.</li>
<li>Scalability: For projects with numerous components, especially those using custom or unique footprints, Python scripting offers a scalable solution for creating and managing footprints.</li>
</ul>
<hr>
<p>By following these best practices and leveraging Python scripting in KiCad, designers can efficiently create accurate and reliable custom footprints that adhere to their project specifications. This automation minimizes errors and increases design quality, making it an essential tool for advanced PCB designers.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/06_Scripts/02_Customized_Footprint.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/Automated_Design"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Key Applications of Python Scripting in KiCad</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/STM32-HW-Design-with-KiCAD/docs/Scripts/DRC"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Design Rule Checking Customization</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-use-python-for-footprint-generation" class="table-of-contents__link toc-highlight">Why Use Python for Footprint Generation?</a></li><li><a href="#components-of-a-custom-footprint" class="table-of-contents__link toc-highlight">Components of a Custom Footprint</a></li><li><a href="#best-practices-for-custom-footprint-generation" class="table-of-contents__link toc-highlight">Best Practices for Custom Footprint Generation</a><ul><li><a href="#1-follow-the-components-datasheet" class="table-of-contents__link toc-highlight">1. Follow the Component&#39;s Datasheet</a></li><li><a href="#2-define-pad-layouts-consistently" class="table-of-contents__link toc-highlight">2. Define Pad Layouts Consistently</a></li><li><a href="#3-silkscreen-and-courtyard-markings" class="table-of-contents__link toc-highlight">3. Silkscreen and Courtyard Markings</a></li><li><a href="#4-parameterized-footprint-generation" class="table-of-contents__link toc-highlight">4. Parameterized Footprint Generation</a></li><li><a href="#5-check-for-design-rule-compliance" class="table-of-contents__link toc-highlight">5. Check for Design Rule Compliance</a></li></ul></li><li><a href="#step-by-step-guide-for-generating-a-custom-footprint-with-python" class="table-of-contents__link toc-highlight">Step-by-Step Guide for Generating a Custom Footprint with Python</a></li><li><a href="#benefits-of-custom-footprint-generation-with-python" class="table-of-contents__link toc-highlight">Benefits of Custom Footprint Generation with Python</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/STM32-HW-Design-with-KiCAD/docs/category/introduction">Knowledge Base</a></li><li class="footer__item"><a class="footer__link-item" href="/STM32-HW-Design-with-KiCAD/docs/category/recipes">Recipes</a></li></ul></div><div class="col footer__col"><div class="footer__title">Projects</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project 1<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project 2<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project 3<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/STM32-HW-Design-with-KiCAD/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/CagriCatik/STM32-HW-Design-with-KiCAD" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">STM32 Hardware Design with KiCAD</div></div></div></footer></div>
</body>
</html>